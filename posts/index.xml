<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>All Posts - üìö | Dev Blog</title>
        <link>https://jaeyeonme.github.io/posts/</link>
        <description>All Posts | üìö | Dev Blog</description>
        <generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Wed, 29 Dec 2021 12:00:00 &#43;0000</lastBuildDate><atom:link href="https://jaeyeonme.github.io/posts/" rel="self" type="application/rss+xml" /><item>
    <title>ÏòÅÏÜçÏÑ±Í¥ÄÎ¶¨ - ÎÇ¥Î∂Ä ÎèôÏûë Î∞©Ïãù</title>
    <link>https://jaeyeonme.github.io/posts/%E1%84%8B%E1%85%A7%E1%86%BC%E1%84%89%E1%85%A9%E1%86%A8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%B5-%E1%84%82%E1%85%A2%E1%84%87%E1%85%AE-%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8-%E1%84%87%E1%85%A1%E1%86%BC%E1%84%89%E1%85%B5%E1%86%A8/</link>
    <pubDate>Wed, 29 Dec 2021 12:00:00 &#43;0000</pubDate>
    <author>Author</author>
    <guid>https://jaeyeonme.github.io/posts/%E1%84%8B%E1%85%A7%E1%86%BC%E1%84%89%E1%85%A9%E1%86%A8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%B5-%E1%84%82%E1%85%A2%E1%84%87%E1%85%AE-%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8-%E1%84%87%E1%85%A1%E1%86%BC%E1%84%89%E1%85%B5%E1%86%A8/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/images/JPA/jpa.png" referrerpolicy="no-referrer">
            </div>1. ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏  Ïõπ Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏù¥ Íµ¨ÎèôÌïòÎäî ÏãúÏ†êÏóê EntityManagerFactory Î•º ÏÉùÏÑ±ÌïòÏó¨ Í∞ÄÏßÄÍ≥† ÏûàÏúºÎ©∞, ÏÇ¨Ïö©ÏûêÏùò ÏöîÏ≤≠Ïù¥ ÏûàÏùÑ Îïå EntityManagerÎ•º ÏÉùÏÑ±ÌïòÏó¨ Ïª§ÎÑ•ÏÖò ÌíÄ(Connection Pool)ÏùÑ ÏÇ¨Ïö©Ìï¥ÏÑú DBÎ•º Ìï∏Îì§ÎßÅ ÌïòÍ≤å ÎêúÎã§.  ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏ÎûÄ?   ÏóîÌã∞Ìã∞Î•º ÏòÅÍµ¨ Ï†ÄÏû•ÌïòÎäî ÌôòÍ≤Ω
  EntityManager.persist(entity);
‚Üí DBÏóê Ï†ÄÏû•ÌïúÎã§Í∏∞ Î≥¥Îã§Îäî ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏Î•º ÌÜµÌï¥ ÏóîÌã∞Ìã∞Î•º ÏòÅÏÜçÌôî ÌïúÎã§Îäî ÏùòÎØ∏
 ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏Ïóê ÏóîÌã∞Ìã∞Î•º Ï†ÄÏû•ÌïúÎã§Îäî Îßê    ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏Îäî ÎÖºÎ¶¨Ï†ÅÏù∏ Í∞úÎÖê
  ÎààÏóê Î≥¥Ïù¥ÏßÄ ÏïäÎäîÎã§.
  ÏóîÌã∞Ìã∞ Îß§ÎãàÏ†ÄÎ•º ÌÜµÌï¥ÏÑú ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏Ïóê Ï†ëÍ∑º
 J2SE ÌôòÍ≤Ω    ÏóîÌã∞Ìã∞Ïùò ÏÉùÎ™Ö Ï£ºÍ∏∞  ÎπÑÏòÅÏÜç(new / transient): ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏ÏôÄ Ï†ÑÌòÄ Í¥ÄÍ≥ÑÍ∞Ä ÏóÜÎäî ÏÉàÎ°úÏö¥ ÏÉÅÌÉú ÏòÅÏÜç(managed): ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏Ïóê Í¥ÄÎ¶¨ÎêòÎäî ÏÉÅÌÉú Ï§ÄÏòÅÏÜç(detached): ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏Ïóê Ï†ÄÏû•ÎêòÏóàÎã§Í∞Ä Î∂ÑÎ¶¨Îêú ÏÉÅÌÉú ÏÇ≠Ï†ú(removed): ÏÇ≠Ï†úÎêú ÏÉÅÌÉú  ÎπÑÏòÅÏÜç : JPAÏóê Í¥ÄÍ≥ÑÏóÜÏù¥ Í∞ùÏ≤¥ ÏÉùÏÑ±Îßå Îêú ÏÉÅÌÉú
// Í∞ùÏ≤¥Î•º ÏÉùÏÑ±Ìïú ÏÉÅÌÉú(ÎπÑÏòÅÏÜç) Member member = new Member(); member.setId(&#34;member1&#34;); member.setUsername(&#34;ÌöåÏõê1&#34;); 
ÏòÅÏÜç // Í∞ùÏ≤¥Î•º ÏÉùÏÑ±Ìïú ÏÉÅÌÉú(ÎπÑÏòÅÏÜç) Member member = new Member(); member.setId(&#34;member1&#34;); member.setUsername(&#34;ÌöåÏõê1&#34;); EntityManager em = emf.createEntityManager(); em.getTransaction().begin(); // Í∞ùÏ≤¥Î•º Ï†ÄÏû•Ìïú ÏÉÅÌÉú(ÏòÅÏÜç) em.persist(member); 
Ï§ÄÏòÅÏÜç, ÏÇ≠Ï†ú // ÌöåÏõê ÏóîÌã∞Ìã∞Î•º ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏ÏóêÏÑú Î∂ÑÎ¶¨, Ï§ÄÏòÅÏÜç ÏÉÅÌÉú em.detach(member); // Í∞ùÏ≤¥Î•º ÏÇ≠Ï†úÌïú ÏÉÅÌÉú(ÏÇ≠Ï†ú) em.remove(member);  Ï§ÄÏòÅÏÜç: ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏ÏóêÏÑú ÏÇ≠Ï†úÌïòÎäî Í≤É ÏÇ≠Ï†úÎäî Ïã§Ï†úÎ°ú DBÏóêÏÑú Ìï¥Îãπ ROWÎ•º ÏÇ≠Ï†úÌïòÎäî Í≤É  2. ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏Ïùò Ïù¥Ï†ê 1. 1Ï∞® Ï∫êÏãú Member member = new Member(); member.setId(&#34;member1&#34;); member.setUsername(&#34;ÌöåÏõê1&#34;); //1Ï∞® Ï∫êÏãúÏóê Ï†ÄÏû•Îê® em.persist(member); //1Ï∞® Ï∫êÏãúÏóêÏÑú Ï°∞Ìöå Member findMember = em.find(Member.class, &#34;member1&#34;);  Ï°∞Ìöå Ïãú ÏòÅÏÜç Ïª®ÌÖçÏä§Ìä∏ÏïàÏóêÏÑú 1Ï∞® Ï∫êÏãúÎ•º Ï°∞Ìöå ÌõÑ Ìï¥Îãπ ÏóîÌã∞Ìã∞Í∞Ä ÏûàÏùÑ Í≤ΩÏö∞ Ï∫êÏãúÎ•º Ï°∞Ìöå Ìï¥ Ïò®Îã§. Ï°∞Ìöå Ïãú ÏòÅÏÜç Ïª®ÌÖçÏä§Ìä∏ ÏïàÏóêÏÑú 1Ï∞® Ï∫êÏãúÎ•º Ï°∞Ìöå ÌõÑ Ìï¥Îãπ ÏóîÌã∞Ìã∞Í∞Ä ÏóÜÏùÑ Í≤ΩÏö∞ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ÏóêÏÑú Ï°∞ÌöåÌï¥ Ïò®Îã§. Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ìä∏ÎûúÏû≠ÏÖò ÎÇ¥Î∂ÄÏóêÏÑú ÎßåÎì§Í≥† Ï¢ÖÎ£åÎêòÍ∏∞ ÎïåÎ¨∏Ïóê ÌïòÎÇòÏùò ÎπÑÏ¶àÎãàÏä§ Î°úÏßÅÏù¥ Ï¢ÖÎ£åÎê† Í≤ΩÏö∞ 1Ï∞®Ï∫êÏãúÎäî Îã§ ÏÇ¨ÎùºÏßÄÍ∏∞ ÎïåÎ¨∏Ïóê ÌÅ∞ ÎèÑÏõÄÏù¥ ÎêòÏßÄ ÏïäÎäîÎã§. (ÎπÑÏ¶àÎãàÏä§ Î°úÏßÅÏù¥ Î≥µÏû°Ìï¥ Ïßà ÏàòÎ°ù Ìö®Í≥ºÎäî Ïª§ÏßÑÎã§.)  2. ÎèôÏùºÏÑ±(identity) Î≥¥Ïû• Member findMember = em.find(Member.class, 100L); Member findMember2 = em.find(Member.class, 100L); System.out.println(findMember == findMember2); // true : 1Ï∞® Ï∫êÏãúÎ°ú Î∞òÎ≥µ Í∞ÄÎä•Ìïú ÏùΩÍ∏∞(REPEATABLE READ) Îì±Í∏âÏùò Ìä∏ÎûúÏû≠ÏÖò Í≤©Î¶¨ ÏàòÏ§ÄÏùÑ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Í∞Ä ÏïÑÎãå Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò Ï∞®ÏõêÏóêÏÑú Ï†úÍ≥µ
 Ï∞∏Í≥†: Ìä∏ÎûúÏû≠ÏÖòÏùò Í≤©Î¶¨ÏàòÏ§ÄÏù¥ Í∂ÅÍ∏àÌïòÎ©¥ Ìä∏ÎûúÏû≠ÏÖòÏù¥ Î≥¥Ïû•Ìï¥Ïïº ÌïòÎäî ACIDÎ•º Í∏∞ÏñµÌïòÏûê.
 3. ÏóîÌã∞Ìã∞ Îì±Î°ù - Ìä∏ÎûúÏû≠ÏÖòÏùÑ ÏßÄÏõêÌïòÎäî Ïì∞ÏßÄÏßÄÏó∞ Member member = new Member(150L, &#34;A&#34;); Member member2 = new Member(160L, &#34;B&#34;); em.persist(member); em.persist(member2); // ÏóîÌã∞Ìã∞ Îì±Î°ùÏùÄ ÏïÑÏßÅ ÏàòÌñâÎêòÏßÄ ÏïäÎäîÎã§. (Ïì∞ÏßÄ ÏßÄÏó∞)  System.out.println(&#34;=========&#34;); tx.commit(); // ÏóêÌã∞Ìã∞ Îì±Î°ùÏùÄ Ïù¥ ÎñÑ ÎèôÏãúÏóê ÏàòÌñâÎêúÎã§. 
memberAÏôÄ memberrBÎäî Îëò Îã§ Ïì∞Í∏∞ÏßÄÏó∞ SQLÏ†ÄÏû•ÏÜåÏóê Ï†ÄÏû•ÎêòÏñ¥ÏûàÍ≥† Ïã§Ï†ú DBÏóê Ï†ÅÏö©ÏùÄ ÏïàÎêú ÏÉÅÌÉú
commit() ÏãúÏ†êÏóê Ïì∞Í∏∞ÏßÄÏó∞ SQLÏóê Ï†ÄÏû•Îêú ÏøºÎ¶¨Îì§ÏùÑ Îã§ Ïã§ÌñâÏãúÏºúÏÑú DBÏóê Ï†ÅÏö©ÌïúÎã§.
Ïì∞Í∏∞ ÏßÄÏó∞ÏùÑ ÏÇ¨Ïö©ÌïòÎäî Ïù¥Ïú†
-&gt; Î≤ÑÌçºÎßÅ Í∏∞Îä•Ïù¥ Ï†úÍ≥µ
&lt;property name=&#34;hibernate.jdbc.batch_size&#34; value=&#34;10&#34;/&gt; -&gt; 10Í∞úÏî© ÏåìÏùºÎïåÎßàÎã§ Ï†ÅÏö©ÌïòÍ≤å ÌïòÎäî Í∏∞Îä•
-&gt; ÏøºÎ¶¨Î•º Ïó¨Îü¨Î≤à ÎÇ†Î¶¨ÏßÄ ÏïäÍ≥† ÏµúÏ†ÅÌôîÍ∞Ä Í∞ÄÎä•ÌïòÎã§.
4. ÏóîÌã∞Ìã∞ ÏàòÏ†ï - Î≥ÄÍ≤ΩÍ∞êÏßÄ(Dirty Checking) transaction.begin(); //ÏóîÌã∞Ìã∞ Ï°∞Ìöå Member findMember = em.find(Member.class, &#34;memberA&#34;); //ÏòÅÏÜç ÏóîÌã∞Ìã∞ Îç∞Ïù¥ÌÑ∞ ÏàòÏ†ï findMember.setUsername(&#34;hi&#34;); findMember.setAge(10); transaction.commit(); ‚Üí 1Ï∞® Ï∫êÏãúÏïàÏóêÎäî @Id, Entity , Ïä§ÎÉÖÏÉ∑ Ïù¥ ÏûàÎã§. Ïó¨Í∏∞ÏÑú Ïä§ÎÉÖÏÉ∑ ÏùÄ ÏµúÏ¥àÎ°ú ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏(1Ï∞®Ï∫êÏãú)Ïóê Îì§Ïñ¥Ïò§ÎäîÏàúÍ∞Ñ Ïä§ÎÉÖÏÉ∑ÏùÑ Ï∞çÏñ¥ÏÑú Ï†ÄÏû•Ìï¥ÎëîÎã§.
‚Üí JPAÎäî Ìä∏ÎûúÏû≠ÏÖòÏù¥ Ïª§Î∞ã(commit)ÎêòÎäî ÏàúÍ∞Ñ ÏóîÌã∞Ìã∞ÏôÄ Ïä§ÎÉÖÏÉ∑ÏùÑ Î™®Îëê ÎπÑÍµêÌïúÎã§.
‚Üí Î≥ÄÍ≤ΩÎêú Í≤ÉÏù¥ ÏûàÏùÑ Í≤ΩÏö∞ Ïì∞Í∏∞ÏßÄÏó∞ SQL Ï†ÄÏû•ÏÜå Ïóê ÏóÖÎç∞Ïù¥Ìä∏ ÏøºÎ¶¨Î•º Ï†ÄÏû•ÌïòÍ≥† ÏàòÌñâÌïòÍ≤å ÎêúÎã§.
5. ÏóîÌã∞Ìã∞ ÏÇ≠Ï†ú //ÏÇ≠Ï†ú ÎåÄÏÉÅ ÏóîÌã∞Ìã∞ Ï°∞Ìöå Member member = em.find(Member.class, &#34;memberA&#34;); em.remove(member);//ÏóîÌã∞Ìã∞ ÏÇ≠Ï†ú 
3. ÌîåÎü¨Ïãú(flush) : ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏Ïùò Î≥ÄÍ≤ΩÏùÑ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïóê Î∞òÏòÅ(sync)
  ÌîåÎü¨Ïãú Î∞úÏÉù
 Î≥ÄÍ≤Ω Í∞êÏßÄ ÏàòÏ†ïÎêú ÏóîÌã∞Ìã∞ Ïì∞Í∏∞ÏßÄÏó∞ SQL Ï†ÄÏû•ÏÜåÏóê Îì±Î°ù Ïì∞Í∏∞ ÏßÄÏó∞ SQLÏ†ÄÏû•ÏÜåÏùò ÏøºÎ¶¨Î•º Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïóê Ï†ÑÏÜ°(Îì±Î°ù, ÏàòÏ†ï, ÏÇ≠Ï†ú ÏøºÎ¶¨)    ÏòÅÏÜçÏÑ± Ïª®ÌÖçÏä§Ìä∏Î•º ÌîåÎü¨Ïãú ÌïòÎäî Î∞©Î≤ï]]></description>
</item></channel>
</rss>
