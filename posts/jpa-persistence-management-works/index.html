<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>ì˜ì†ì„±ê´€ë¦¬ - ë‚´ë¶€ ë™ì‘ ë°©ì‹ - ğŸ“š | Dev Blog</title><meta name="Description" content=""><meta property="og:title" content="ì˜ì†ì„±ê´€ë¦¬ - ë‚´ë¶€ ë™ì‘ ë°©ì‹" />
<meta property="og:description" content="1. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸  ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ êµ¬ë™í•˜ëŠ” ì‹œì ì— EntityManagerFactory ë¥¼ ìƒì„±í•˜ì—¬ ê°€ì§€ê³  ìˆìœ¼ë©°, ì‚¬ìš©ìì˜ ìš”ì²­ì´ ìˆì„ ë•Œ EntityManagerë¥¼ ìƒì„±í•˜ì—¬ ì»¤ë„¥ì…˜ í’€(Connection Pool)ì„ ì‚¬ìš©í•´ì„œ DBë¥¼ í•¸ë“¤ë§ í•˜ê²Œ ëœë‹¤.  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë€?   ì—”í‹°í‹°ë¥¼ ì˜êµ¬ ì €ì¥í•˜ëŠ” í™˜ê²½
  EntityManager.persist(entity);
â†’ DBì— ì €ì¥í•œë‹¤ê¸° ë³´ë‹¤ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•´ ì—”í‹°í‹°ë¥¼ ì˜ì†í™” í•œë‹¤ëŠ” ì˜ë¯¸
 ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì—”í‹°í‹°ë¥¼ ì €ì¥í•œë‹¤ëŠ” ë§    ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ë…¼ë¦¬ì ì¸ ê°œë…
  ëˆˆì— ë³´ì´ì§€ ì•ŠëŠ”ë‹¤.
  ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ í†µí•´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì ‘ê·¼
 J2SE í™˜ê²½    ì—”í‹°í‹°ì˜ ìƒëª… ì£¼ê¸°  ë¹„ì˜ì†(new / transient): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ ì „í˜€ ê´€ê³„ê°€ ì—†ëŠ” ìƒˆë¡œìš´ ìƒíƒœ ì˜ì†(managed): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ê´€ë¦¬ë˜ëŠ” ìƒíƒœ ì¤€ì˜ì†(detached): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥ë˜ì—ˆë‹¤ê°€ ë¶„ë¦¬ëœ ìƒíƒœ ì‚­ì œ(removed): ì‚­ì œëœ ìƒíƒœ  ë¹„ì˜ì† : JPAì— ê´€ê³„ì—†ì´ ê°ì²´ ìƒì„±ë§Œ ëœ ìƒíƒœ
// ê°ì²´ë¥¼ ìƒì„±í•œ ìƒíƒœ(ë¹„ì˜ì†) Member member = new Member(); member.setId(&#34;member1&#34;); member.setUsername(&#34;íšŒì›1&#34;); 
ì˜ì† // ê°ì²´ë¥¼ ìƒì„±í•œ ìƒíƒœ(ë¹„ì˜ì†) Member member = new Member(); member.setId(&#34;member1&#34;); member.setUsername(&#34;íšŒì›1&#34;); EntityManager em = emf.createEntityManager(); em.getTransaction().begin(); // ê°ì²´ë¥¼ ì €ì¥í•œ ìƒíƒœ(ì˜ì†) em.persist(member); 
ì¤€ì˜ì†, ì‚­ì œ // íšŒì› ì—”í‹°í‹°ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë¶„ë¦¬, ì¤€ì˜ì† ìƒíƒœ em.detach(member); // ê°ì²´ë¥¼ ì‚­ì œí•œ ìƒíƒœ(ì‚­ì œ) em.remove(member);  ì¤€ì˜ì†: ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì‚­ì œí•˜ëŠ” ê²ƒ ì‚­ì œëŠ” ì‹¤ì œë¡œ DBì—ì„œ í•´ë‹¹ ROWë¥¼ ì‚­ì œí•˜ëŠ” ê²ƒ  2. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ì´ì  1. 1ì°¨ ìºì‹œ Member member = new Member(); member.setId(&#34;member1&#34;); member.setUsername(&#34;íšŒì›1&#34;); //1ì°¨ ìºì‹œì— ì €ì¥ë¨ em.persist(member); //1ì°¨ ìºì‹œì—ì„œ ì¡°íšŒ Member findMember = em.find(Member.class, &#34;member1&#34;);  ì¡°íšŒ ì‹œ ì˜ì† ì»¨í…ìŠ¤íŠ¸ì•ˆì—ì„œ 1ì°¨ ìºì‹œë¥¼ ì¡°íšŒ í›„ í•´ë‹¹ ì—”í‹°í‹°ê°€ ìˆì„ ê²½ìš° ìºì‹œë¥¼ ì¡°íšŒ í•´ ì˜¨ë‹¤. ì¡°íšŒ ì‹œ ì˜ì† ì»¨í…ìŠ¤íŠ¸ ì•ˆì—ì„œ 1ì°¨ ìºì‹œë¥¼ ì¡°íšŒ í›„ í•´ë‹¹ ì—”í‹°í‹°ê°€ ì—†ì„ ê²½ìš° ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•´ ì˜¨ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ ë‚´ë¶€ì—ì„œ ë§Œë“¤ê³  ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì¢…ë£Œë  ê²½ìš° 1ì°¨ìºì‹œëŠ” ë‹¤ ì‚¬ë¼ì§€ê¸° ë•Œë¬¸ì— í° ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë³µì¡í•´ ì§ˆ ìˆ˜ë¡ íš¨ê³¼ëŠ” ì»¤ì§„ë‹¤.)  2. ë™ì¼ì„±(identity) ë³´ì¥ Member findMember = em.find(Member.class, 100L); Member findMember2 = em.find(Member.class, 100L); System.out.println(findMember == findMember2); // true : 1ì°¨ ìºì‹œë¡œ ë°˜ë³µ ê°€ëŠ¥í•œ ì½ê¸°(REPEATABLE READ) ë“±ê¸‰ì˜ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë‹Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì°¨ì›ì—ì„œ ì œê³µ
 ì°¸ê³ : íŠ¸ëœì­ì…˜ì˜ ê²©ë¦¬ìˆ˜ì¤€ì´ ê¶ê¸ˆí•˜ë©´ íŠ¸ëœì­ì…˜ì´ ë³´ì¥í•´ì•¼ í•˜ëŠ” ACIDë¥¼ ê¸°ì–µí•˜ì.
 3. ì—”í‹°í‹° ë“±ë¡ - íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ì§€ì§€ì—° Member member = new Member(150L, &#34;A&#34;); Member member2 = new Member(160L, &#34;B&#34;); em.persist(member); em.persist(member2); // ì—”í‹°í‹° ë“±ë¡ì€ ì•„ì§ ìˆ˜í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. (ì“°ì§€ ì§€ì—°)  System.out.println(&#34;=========&#34;); tx.commit(); // ì—í‹°í‹° ë“±ë¡ì€ ì´ ë–„ ë™ì‹œì— ìˆ˜í–‰ëœë‹¤. 
memberAì™€ memberrBëŠ” ë‘˜ ë‹¤ ì“°ê¸°ì§€ì—° SQLì €ì¥ì†Œì— ì €ì¥ë˜ì–´ìˆê³  ì‹¤ì œ DBì— ì ìš©ì€ ì•ˆëœ ìƒíƒœ
commit() ì‹œì ì— ì“°ê¸°ì§€ì—° SQLì— ì €ì¥ëœ ì¿¼ë¦¬ë“¤ì„ ë‹¤ ì‹¤í–‰ì‹œì¼œì„œ DBì— ì ìš©í•œë‹¤.
ì“°ê¸° ì§€ì—°ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
-&gt; ë²„í¼ë§ ê¸°ëŠ¥ì´ ì œê³µ
&lt;property name=&#34;hibernate.jdbc.batch_size&#34; value=&#34;10&#34;/&gt; -&gt; 10ê°œì”© ìŒ“ì¼ë•Œë§ˆë‹¤ ì ìš©í•˜ê²Œ í•˜ëŠ” ê¸°ëŠ¥
-&gt; ì¿¼ë¦¬ë¥¼ ì—¬ëŸ¬ë²ˆ ë‚ ë¦¬ì§€ ì•Šê³  ìµœì í™”ê°€ ê°€ëŠ¥í•˜ë‹¤.
4. ì—”í‹°í‹° ìˆ˜ì • - ë³€ê²½ê°ì§€(Dirty Checking) transaction.begin(); //ì—”í‹°í‹° ì¡°íšŒ Member findMember = em.find(Member.class, &#34;memberA&#34;); //ì˜ì† ì—”í‹°í‹° ë°ì´í„° ìˆ˜ì • findMember.setUsername(&#34;hi&#34;); findMember.setAge(10); transaction.commit(); â†’ 1ì°¨ ìºì‹œì•ˆì—ëŠ” @Id, Entity , ìŠ¤ëƒ…ìƒ· ì´ ìˆë‹¤. ì—¬ê¸°ì„œ ìŠ¤ëƒ…ìƒ· ì€ ìµœì´ˆë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸(1ì°¨ìºì‹œ)ì— ë“¤ì–´ì˜¤ëŠ”ìˆœê°„ ìŠ¤ëƒ…ìƒ·ì„ ì°ì–´ì„œ ì €ì¥í•´ë‘”ë‹¤.
â†’ JPAëŠ” íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹(commit)ë˜ëŠ” ìˆœê°„ ì—”í‹°í‹°ì™€ ìŠ¤ëƒ…ìƒ·ì„ ëª¨ë‘ ë¹„êµí•œë‹¤.
â†’ ë³€ê²½ëœ ê²ƒì´ ìˆì„ ê²½ìš° ì“°ê¸°ì§€ì—° SQL ì €ì¥ì†Œ ì— ì—…ë°ì´íŠ¸ ì¿¼ë¦¬ë¥¼ ì €ì¥í•˜ê³  ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.
5. ì—”í‹°í‹° ì‚­ì œ //ì‚­ì œ ëŒ€ìƒ ì—”í‹°í‹° ì¡°íšŒ Member member = em.find(Member.class, &#34;memberA&#34;); em.remove(member);//ì—”í‹°í‹° ì‚­ì œ 
3. í”ŒëŸ¬ì‹œ(flush) : ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜(sync)
  í”ŒëŸ¬ì‹œ ë°œìƒ
 ë³€ê²½ ê°ì§€ ìˆ˜ì •ëœ ì—”í‹°í‹° ì“°ê¸°ì§€ì—° SQL ì €ì¥ì†Œì— ë“±ë¡ ì“°ê¸° ì§€ì—° SQLì €ì¥ì†Œì˜ ì¿¼ë¦¬ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì „ì†¡(ë“±ë¡, ìˆ˜ì •, ì‚­ì œ ì¿¼ë¦¬)    ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œ í•˜ëŠ” ë°©ë²•" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jaeyeonme.github.io/posts/jpa-persistence-management-works/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-29T12:00:00+00:00" />
<meta property="article:modified_time" content="2021-12-29T12:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ì˜ì†ì„±ê´€ë¦¬ - ë‚´ë¶€ ë™ì‘ ë°©ì‹"/>
<meta name="twitter:description" content="1. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸  ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ êµ¬ë™í•˜ëŠ” ì‹œì ì— EntityManagerFactory ë¥¼ ìƒì„±í•˜ì—¬ ê°€ì§€ê³  ìˆìœ¼ë©°, ì‚¬ìš©ìì˜ ìš”ì²­ì´ ìˆì„ ë•Œ EntityManagerë¥¼ ìƒì„±í•˜ì—¬ ì»¤ë„¥ì…˜ í’€(Connection Pool)ì„ ì‚¬ìš©í•´ì„œ DBë¥¼ í•¸ë“¤ë§ í•˜ê²Œ ëœë‹¤.  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë€?   ì—”í‹°í‹°ë¥¼ ì˜êµ¬ ì €ì¥í•˜ëŠ” í™˜ê²½
  EntityManager.persist(entity);
â†’ DBì— ì €ì¥í•œë‹¤ê¸° ë³´ë‹¤ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•´ ì—”í‹°í‹°ë¥¼ ì˜ì†í™” í•œë‹¤ëŠ” ì˜ë¯¸
 ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì—”í‹°í‹°ë¥¼ ì €ì¥í•œë‹¤ëŠ” ë§    ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ë…¼ë¦¬ì ì¸ ê°œë…
  ëˆˆì— ë³´ì´ì§€ ì•ŠëŠ”ë‹¤.
  ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ í†µí•´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì ‘ê·¼
 J2SE í™˜ê²½    ì—”í‹°í‹°ì˜ ìƒëª… ì£¼ê¸°  ë¹„ì˜ì†(new / transient): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ ì „í˜€ ê´€ê³„ê°€ ì—†ëŠ” ìƒˆë¡œìš´ ìƒíƒœ ì˜ì†(managed): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ê´€ë¦¬ë˜ëŠ” ìƒíƒœ ì¤€ì˜ì†(detached): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥ë˜ì—ˆë‹¤ê°€ ë¶„ë¦¬ëœ ìƒíƒœ ì‚­ì œ(removed): ì‚­ì œëœ ìƒíƒœ  ë¹„ì˜ì† : JPAì— ê´€ê³„ì—†ì´ ê°ì²´ ìƒì„±ë§Œ ëœ ìƒíƒœ
// ê°ì²´ë¥¼ ìƒì„±í•œ ìƒíƒœ(ë¹„ì˜ì†) Member member = new Member(); member.setId(&#34;member1&#34;); member.setUsername(&#34;íšŒì›1&#34;); 
ì˜ì† // ê°ì²´ë¥¼ ìƒì„±í•œ ìƒíƒœ(ë¹„ì˜ì†) Member member = new Member(); member.setId(&#34;member1&#34;); member.setUsername(&#34;íšŒì›1&#34;); EntityManager em = emf.createEntityManager(); em.getTransaction().begin(); // ê°ì²´ë¥¼ ì €ì¥í•œ ìƒíƒœ(ì˜ì†) em.persist(member); 
ì¤€ì˜ì†, ì‚­ì œ // íšŒì› ì—”í‹°í‹°ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë¶„ë¦¬, ì¤€ì˜ì† ìƒíƒœ em.detach(member); // ê°ì²´ë¥¼ ì‚­ì œí•œ ìƒíƒœ(ì‚­ì œ) em.remove(member);  ì¤€ì˜ì†: ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì‚­ì œí•˜ëŠ” ê²ƒ ì‚­ì œëŠ” ì‹¤ì œë¡œ DBì—ì„œ í•´ë‹¹ ROWë¥¼ ì‚­ì œí•˜ëŠ” ê²ƒ  2. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ì´ì  1. 1ì°¨ ìºì‹œ Member member = new Member(); member.setId(&#34;member1&#34;); member.setUsername(&#34;íšŒì›1&#34;); //1ì°¨ ìºì‹œì— ì €ì¥ë¨ em.persist(member); //1ì°¨ ìºì‹œì—ì„œ ì¡°íšŒ Member findMember = em.find(Member.class, &#34;member1&#34;);  ì¡°íšŒ ì‹œ ì˜ì† ì»¨í…ìŠ¤íŠ¸ì•ˆì—ì„œ 1ì°¨ ìºì‹œë¥¼ ì¡°íšŒ í›„ í•´ë‹¹ ì—”í‹°í‹°ê°€ ìˆì„ ê²½ìš° ìºì‹œë¥¼ ì¡°íšŒ í•´ ì˜¨ë‹¤. ì¡°íšŒ ì‹œ ì˜ì† ì»¨í…ìŠ¤íŠ¸ ì•ˆì—ì„œ 1ì°¨ ìºì‹œë¥¼ ì¡°íšŒ í›„ í•´ë‹¹ ì—”í‹°í‹°ê°€ ì—†ì„ ê²½ìš° ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•´ ì˜¨ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ ë‚´ë¶€ì—ì„œ ë§Œë“¤ê³  ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì¢…ë£Œë  ê²½ìš° 1ì°¨ìºì‹œëŠ” ë‹¤ ì‚¬ë¼ì§€ê¸° ë•Œë¬¸ì— í° ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë³µì¡í•´ ì§ˆ ìˆ˜ë¡ íš¨ê³¼ëŠ” ì»¤ì§„ë‹¤.)  2. ë™ì¼ì„±(identity) ë³´ì¥ Member findMember = em.find(Member.class, 100L); Member findMember2 = em.find(Member.class, 100L); System.out.println(findMember == findMember2); // true : 1ì°¨ ìºì‹œë¡œ ë°˜ë³µ ê°€ëŠ¥í•œ ì½ê¸°(REPEATABLE READ) ë“±ê¸‰ì˜ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë‹Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì°¨ì›ì—ì„œ ì œê³µ
 ì°¸ê³ : íŠ¸ëœì­ì…˜ì˜ ê²©ë¦¬ìˆ˜ì¤€ì´ ê¶ê¸ˆí•˜ë©´ íŠ¸ëœì­ì…˜ì´ ë³´ì¥í•´ì•¼ í•˜ëŠ” ACIDë¥¼ ê¸°ì–µí•˜ì.
 3. ì—”í‹°í‹° ë“±ë¡ - íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ì§€ì§€ì—° Member member = new Member(150L, &#34;A&#34;); Member member2 = new Member(160L, &#34;B&#34;); em.persist(member); em.persist(member2); // ì—”í‹°í‹° ë“±ë¡ì€ ì•„ì§ ìˆ˜í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. (ì“°ì§€ ì§€ì—°)  System.out.println(&#34;=========&#34;); tx.commit(); // ì—í‹°í‹° ë“±ë¡ì€ ì´ ë–„ ë™ì‹œì— ìˆ˜í–‰ëœë‹¤. 
memberAì™€ memberrBëŠ” ë‘˜ ë‹¤ ì“°ê¸°ì§€ì—° SQLì €ì¥ì†Œì— ì €ì¥ë˜ì–´ìˆê³  ì‹¤ì œ DBì— ì ìš©ì€ ì•ˆëœ ìƒíƒœ
commit() ì‹œì ì— ì“°ê¸°ì§€ì—° SQLì— ì €ì¥ëœ ì¿¼ë¦¬ë“¤ì„ ë‹¤ ì‹¤í–‰ì‹œì¼œì„œ DBì— ì ìš©í•œë‹¤.
ì“°ê¸° ì§€ì—°ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
-&gt; ë²„í¼ë§ ê¸°ëŠ¥ì´ ì œê³µ
&lt;property name=&#34;hibernate.jdbc.batch_size&#34; value=&#34;10&#34;/&gt; -&gt; 10ê°œì”© ìŒ“ì¼ë•Œë§ˆë‹¤ ì ìš©í•˜ê²Œ í•˜ëŠ” ê¸°ëŠ¥
-&gt; ì¿¼ë¦¬ë¥¼ ì—¬ëŸ¬ë²ˆ ë‚ ë¦¬ì§€ ì•Šê³  ìµœì í™”ê°€ ê°€ëŠ¥í•˜ë‹¤.
4. ì—”í‹°í‹° ìˆ˜ì • - ë³€ê²½ê°ì§€(Dirty Checking) transaction.begin(); //ì—”í‹°í‹° ì¡°íšŒ Member findMember = em.find(Member.class, &#34;memberA&#34;); //ì˜ì† ì—”í‹°í‹° ë°ì´í„° ìˆ˜ì • findMember.setUsername(&#34;hi&#34;); findMember.setAge(10); transaction.commit(); â†’ 1ì°¨ ìºì‹œì•ˆì—ëŠ” @Id, Entity , ìŠ¤ëƒ…ìƒ· ì´ ìˆë‹¤. ì—¬ê¸°ì„œ ìŠ¤ëƒ…ìƒ· ì€ ìµœì´ˆë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸(1ì°¨ìºì‹œ)ì— ë“¤ì–´ì˜¤ëŠ”ìˆœê°„ ìŠ¤ëƒ…ìƒ·ì„ ì°ì–´ì„œ ì €ì¥í•´ë‘”ë‹¤.
â†’ JPAëŠ” íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹(commit)ë˜ëŠ” ìˆœê°„ ì—”í‹°í‹°ì™€ ìŠ¤ëƒ…ìƒ·ì„ ëª¨ë‘ ë¹„êµí•œë‹¤.
â†’ ë³€ê²½ëœ ê²ƒì´ ìˆì„ ê²½ìš° ì“°ê¸°ì§€ì—° SQL ì €ì¥ì†Œ ì— ì—…ë°ì´íŠ¸ ì¿¼ë¦¬ë¥¼ ì €ì¥í•˜ê³  ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.
5. ì—”í‹°í‹° ì‚­ì œ //ì‚­ì œ ëŒ€ìƒ ì—”í‹°í‹° ì¡°íšŒ Member member = em.find(Member.class, &#34;memberA&#34;); em.remove(member);//ì—”í‹°í‹° ì‚­ì œ 
3. í”ŒëŸ¬ì‹œ(flush) : ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜(sync)
  í”ŒëŸ¬ì‹œ ë°œìƒ
 ë³€ê²½ ê°ì§€ ìˆ˜ì •ëœ ì—”í‹°í‹° ì“°ê¸°ì§€ì—° SQL ì €ì¥ì†Œì— ë“±ë¡ ì“°ê¸° ì§€ì—° SQLì €ì¥ì†Œì˜ ì¿¼ë¦¬ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì „ì†¡(ë“±ë¡, ìˆ˜ì •, ì‚­ì œ ì¿¼ë¦¬)    ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œ í•˜ëŠ” ë°©ë²•"/>
<meta name="application-name" content="ğŸ“š | Dev Blog">
<meta name="apple-mobile-web-app-title" content="ğŸ“š | Dev Blog"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://jaeyeonme.github.io/posts/jpa-persistence-management-works/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "ì˜ì†ì„±ê´€ë¦¬ - ë‚´ë¶€ ë™ì‘ ë°©ì‹",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/jaeyeonme.github.io\/posts\/jpa-persistence-management-works\/"
        },"genre": "posts","keywords": "JPA, Hibernate","wordcount":  727 ,
        "url": "https:\/\/jaeyeonme.github.io\/posts\/jpa-persistence-management-works\/","datePublished": "2021-12-29T12:00:00+00:00","dateModified": "2021-12-29T12:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": "Jaeeon"},"author": {
                "@type": "Person",
                "name": "Jaeeon"
            },"description": ""
    }
    </script></head>
    <body header-desktop="auto" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="ğŸ“š | Dev Blog">ğŸ“š | Dev Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="ğŸ“š | Dev Blog">ğŸ“š | Dev Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">ì˜ì†ì„±ê´€ë¦¬ - ë‚´ë¶€ ë™ì‘ ë°©ì‹</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jaeeon</a></span>&nbsp;<span class="post-category">included in <a href="/categories/jpa/"><i class="far fa-folder fa-fw"></i>JPA</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-12-29">2021-12-29</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;727 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/JPA/jpa.png"
        data-srcset="/images/JPA/jpa.png, /images/JPA/jpa.png 1.5x, /images/JPA/jpa.png 2x"
        data-sizes="auto"
        alt="/images/JPA/jpa.png"
        title="/images/JPA/jpa.png" /></div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#1-ì˜ì†ì„±-ì»¨í…ìŠ¤íŠ¸">1. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸</a>
      <ul>
        <li><a href="#ì˜ì†ì„±-ì»¨í…ìŠ¤íŠ¸ë€">ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë€?</a></li>
        <li><a href="#ì—”í‹°í‹°ì˜-ìƒëª…-ì£¼ê¸°">ì—”í‹°í‹°ì˜ ìƒëª… ì£¼ê¸°</a></li>
        <li><a href="#ë¹„ì˜ì†">ë¹„ì˜ì†</a></li>
        <li><a href="#ì˜ì†">ì˜ì†</a></li>
        <li><a href="#ì¤€ì˜ì†-ì‚­ì œ">ì¤€ì˜ì†, ì‚­ì œ</a></li>
      </ul>
    </li>
    <li><a href="#2-ì˜ì†ì„±-ì»¨í…ìŠ¤íŠ¸ì˜-ì´ì ">2. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ì´ì </a>
      <ul>
        <li><a href="#1-1ì°¨-ìºì‹œ">1. 1ì°¨ ìºì‹œ</a></li>
        <li><a href="#2-ë™ì¼ì„±identity-ë³´ì¥">2. ë™ì¼ì„±(identity) ë³´ì¥</a></li>
        <li><a href="#3-ì—”í‹°í‹°-ë“±ë¡---íŠ¸ëœì­ì…˜ì„-ì§€ì›í•˜ëŠ”-ì“°ì§€ì§€ì—°">3. ì—”í‹°í‹° ë“±ë¡ - íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ì§€ì§€ì—°</a></li>
        <li><a href="#4-ì—”í‹°í‹°-ìˆ˜ì •---ë³€ê²½ê°ì§€dirty-checking">4. ì—”í‹°í‹° ìˆ˜ì • - ë³€ê²½ê°ì§€(Dirty Checking)</a></li>
        <li><a href="#5-ì—”í‹°í‹°-ì‚­ì œ">5. ì—”í‹°í‹° ì‚­ì œ</a></li>
      </ul>
    </li>
    <li><a href="#3-í”ŒëŸ¬ì‹œflush">3. í”ŒëŸ¬ì‹œ(flush)</a>
      <ul>
        <li><a href="#flushì—-ëŒ€í•œ-ì˜¤í•´">Flushì— ëŒ€í•œ ì˜¤í•´</a></li>
      </ul>
    </li>
    <li><a href="#4-ì¤€ì˜ì†-ìƒíƒœ">4. ì¤€ì˜ì† ìƒíƒœ</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="1-ì˜ì†ì„±-ì»¨í…ìŠ¤íŠ¸">1. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸</h2>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2048.png"
        data-srcset="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2048.png, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2048.png 1.5x, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2048.png 2x"
        data-sizes="auto"
        alt="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2048.png"
        title="image" /></p>
<ul>
<li>ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ êµ¬ë™í•˜ëŠ” ì‹œì ì— <code>EntityManagerFactory</code> ë¥¼ ìƒì„±í•˜ì—¬ ê°€ì§€ê³  ìˆìœ¼ë©°, ì‚¬ìš©ìì˜ ìš”ì²­ì´ ìˆì„ ë•Œ EntityManagerë¥¼ ìƒì„±í•˜ì—¬ ì»¤ë„¥ì…˜ í’€(<code>Connection Pool</code>)ì„ ì‚¬ìš©í•´ì„œ DBë¥¼ í•¸ë“¤ë§ í•˜ê²Œ ëœë‹¤.</li>
</ul>
<br>
<br>
<h3 id="ì˜ì†ì„±-ì»¨í…ìŠ¤íŠ¸ë€">ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë€?</h3>
<ul>
<li>
<p>ì—”í‹°í‹°ë¥¼ ì˜êµ¬ ì €ì¥í•˜ëŠ” í™˜ê²½</p>
</li>
<li>
<p>EntityManager.persist(entity);</p>
<p>â†’ DBì— ì €ì¥í•œë‹¤ê¸° ë³´ë‹¤ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•´ ì—”í‹°í‹°ë¥¼ ì˜ì†í™” í•œë‹¤ëŠ” ì˜ë¯¸</p>
<ul>
<li>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì—”í‹°í‹°ë¥¼ ì €ì¥í•œë‹¤ëŠ” ë§</li>
</ul>
</li>
<li>
<p>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ë…¼ë¦¬ì ì¸ ê°œë…</p>
</li>
<li>
<p>ëˆˆì— ë³´ì´ì§€ ì•ŠëŠ”ë‹¤.</p>
</li>
<li>
<p>ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ í†µí•´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì ‘ê·¼</p>
<ul>
<li>J2SE í™˜ê²½</li>
</ul>
</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2049.png"
        data-srcset="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2049.png, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2049.png 1.5x, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2049.png 2x"
        data-sizes="auto"
        alt="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2049.png"
        title="image" /></p>
<br>
<br>
<h3 id="ì—”í‹°í‹°ì˜-ìƒëª…-ì£¼ê¸°">ì—”í‹°í‹°ì˜ ìƒëª… ì£¼ê¸°</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2050.png"
        data-srcset="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2050.png, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2050.png 1.5x, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2050.png 2x"
        data-sizes="auto"
        alt="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2050.png"
        title="image" /></p>
<ul>
<li>ë¹„ì˜ì†(new / transient): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ ì „í˜€ ê´€ê³„ê°€ ì—†ëŠ” <strong>ìƒˆë¡œìš´</strong> ìƒíƒœ</li>
<li>ì˜ì†(managed): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— <strong>ê´€ë¦¬</strong>ë˜ëŠ” ìƒíƒœ</li>
<li>ì¤€ì˜ì†(detached): ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥ë˜ì—ˆë‹¤ê°€ <strong>ë¶„ë¦¬</strong>ëœ ìƒíƒœ</li>
<li>ì‚­ì œ(removed): <strong>ì‚­ì œ</strong>ëœ ìƒíƒœ</li>
</ul>
<br>
<br>
<h3 id="ë¹„ì˜ì†">ë¹„ì˜ì†</h3>
<p>: JPAì— ê´€ê³„ì—†ì´ ê°ì²´ ìƒì„±ë§Œ ëœ ìƒíƒœ</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2051.png"
        data-srcset="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2051.png, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2051.png 1.5x, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2051.png 2x"
        data-sizes="auto"
        alt="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2051.png"
        title="image" /></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="c1">// ê°ì²´ë¥¼ ìƒì„±í•œ ìƒíƒœ(ë¹„ì˜ì†)
</span><span class="c1"></span><span class="n">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Member</span><span class="o">();</span>
<span class="n">member</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="s">&#34;member1&#34;</span><span class="o">);</span>
<span class="n">member</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">&#34;íšŒì›1&#34;</span><span class="o">);</span>
</code></pre></div><br>
<br>
<h3 id="ì˜ì†">ì˜ì†</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2052.png"
        data-srcset="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2052.png, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2052.png 1.5x, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2052.png 2x"
        data-sizes="auto"
        alt="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2052.png"
        title="image" /></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="c1">// ê°ì²´ë¥¼ ìƒì„±í•œ ìƒíƒœ(ë¹„ì˜ì†)
</span><span class="c1"></span><span class="n">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Member</span><span class="o">();</span>
<span class="n">member</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="s">&#34;member1&#34;</span><span class="o">);</span>
<span class="n">member</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">&#34;íšŒì›1&#34;</span><span class="o">);</span>

<span class="n">EntityManager</span> <span class="n">em</span> <span class="o">=</span> <span class="n">emf</span><span class="o">.</span><span class="na">createEntityManager</span><span class="o">();</span>
<span class="n">em</span><span class="o">.</span><span class="na">getTransaction</span><span class="o">().</span><span class="na">begin</span><span class="o">();</span>

<span class="c1">// ê°ì²´ë¥¼ ì €ì¥í•œ ìƒíƒœ(ì˜ì†)
</span><span class="c1"></span><span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
</code></pre></div><br>
<br>
<h3 id="ì¤€ì˜ì†-ì‚­ì œ">ì¤€ì˜ì†, ì‚­ì œ</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="c1">// íšŒì› ì—”í‹°í‹°ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë¶„ë¦¬, ì¤€ì˜ì† ìƒíƒœ
</span><span class="c1"></span><span class="n">em</span><span class="o">.</span><span class="na">detach</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>

<span class="c1">// ê°ì²´ë¥¼ ì‚­ì œí•œ ìƒíƒœ(ì‚­ì œ)
</span><span class="c1"></span><span class="n">em</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
</code></pre></div><ul>
<li>ì¤€ì˜ì†: ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì‚­ì œí•˜ëŠ” ê²ƒ</li>
<li>ì‚­ì œëŠ” ì‹¤ì œë¡œ DBì—ì„œ í•´ë‹¹ <strong>ROWë¥¼ ì‚­ì œ</strong>í•˜ëŠ” ê²ƒ</li>
</ul>
<br>
<br>
<br>
<h2 id="2-ì˜ì†ì„±-ì»¨í…ìŠ¤íŠ¸ì˜-ì´ì ">2. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ì´ì </h2>
<h3 id="1-1ì°¨-ìºì‹œ">1. 1ì°¨ ìºì‹œ</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="n">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Member</span><span class="o">();</span>
<span class="n">member</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="s">&#34;member1&#34;</span><span class="o">);</span>
<span class="n">member</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">&#34;íšŒì›1&#34;</span><span class="o">);</span>

<span class="c1">//1ì°¨ ìºì‹œì— ì €ì¥ë¨
</span><span class="c1"></span><span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>

<span class="c1">//1ì°¨ ìºì‹œì—ì„œ ì¡°íšŒ
</span><span class="c1"></span><span class="n">Member</span> <span class="n">findMember</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">&#34;member1&#34;</span><span class="o">);</span>
</code></pre></div><ul>
<li>ì¡°íšŒ ì‹œ ì˜ì† ì»¨í…ìŠ¤íŠ¸ì•ˆì—ì„œ 1ì°¨ ìºì‹œë¥¼ ì¡°íšŒ í›„ í•´ë‹¹ ì—”í‹°í‹°ê°€ ìˆì„ ê²½ìš° ìºì‹œë¥¼ ì¡°íšŒ í•´ ì˜¨ë‹¤.</li>
<li>ì¡°íšŒ ì‹œ ì˜ì† ì»¨í…ìŠ¤íŠ¸ ì•ˆì—ì„œ 1ì°¨ ìºì‹œë¥¼ ì¡°íšŒ í›„ í•´ë‹¹ ì—”í‹°í‹°ê°€ ì—†ì„ ê²½ìš° ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•´ ì˜¨ë‹¤.</li>
<li>ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ ë‚´ë¶€ì—ì„œ ë§Œë“¤ê³  ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì¢…ë£Œë  ê²½ìš° 1ì°¨ìºì‹œëŠ” ë‹¤ ì‚¬ë¼ì§€ê¸° ë•Œë¬¸ì— í° ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë³µì¡í•´ ì§ˆ ìˆ˜ë¡ íš¨ê³¼ëŠ” ì»¤ì§„ë‹¤.)</li>
</ul>
<br>
<br>
<h3 id="2-ë™ì¼ì„±identity-ë³´ì¥">2. ë™ì¼ì„±(identity) ë³´ì¥</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="n">Member</span> <span class="n">findMember</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">100L</span><span class="o">);</span>
<span class="n">Member</span> <span class="n">findMember2</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">100L</span><span class="o">);</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">findMember</span> <span class="o">==</span> <span class="n">findMember2</span><span class="o">);</span> <span class="c1">// true
</span></code></pre></div><p>: 1ì°¨ ìºì‹œë¡œ ë°˜ë³µ ê°€ëŠ¥í•œ ì½ê¸°(REPEATABLE READ) ë“±ê¸‰ì˜ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë‹Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì°¨ì›ì—ì„œ ì œê³µ</p>
<blockquote>
<p>ì°¸ê³ : íŠ¸ëœì­ì…˜ì˜ ê²©ë¦¬ìˆ˜ì¤€ì´ ê¶ê¸ˆí•˜ë©´ íŠ¸ëœì­ì…˜ì´ ë³´ì¥í•´ì•¼ í•˜ëŠ” ACIDë¥¼ ê¸°ì–µí•˜ì.</p>
</blockquote>
<br>
<br>
<h3 id="3-ì—”í‹°í‹°-ë“±ë¡---íŠ¸ëœì­ì…˜ì„-ì§€ì›í•˜ëŠ”-ì“°ì§€ì§€ì—°">3. ì—”í‹°í‹° ë“±ë¡ - íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ì§€ì§€ì—°</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="n">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Member</span><span class="o">(</span><span class="n">150L</span><span class="o">,</span> <span class="s">&#34;A&#34;</span><span class="o">);</span>
<span class="n">Member</span> <span class="n">member2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Member</span><span class="o">(</span><span class="n">160L</span><span class="o">,</span> <span class="s">&#34;B&#34;</span><span class="o">);</span>

<span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
<span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">member2</span><span class="o">);</span> <span class="c1">// ì—”í‹°í‹° ë“±ë¡ì€ ì•„ì§ ìˆ˜í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. (ì“°ì§€ ì§€ì—°)
</span><span class="c1"></span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;=========&#34;</span><span class="o">);</span>

<span class="n">tx</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span> <span class="c1">// ì—í‹°í‹° ë“±ë¡ì€ ì´ ë–„ ë™ì‹œì— ìˆ˜í–‰ëœë‹¤.
</span></code></pre></div><br>
<p>memberAì™€ memberrBëŠ” ë‘˜ ë‹¤ ì“°ê¸°ì§€ì—° SQLì €ì¥ì†Œì— ì €ì¥ë˜ì–´ìˆê³  ì‹¤ì œ DBì— ì ìš©ì€ ì•ˆëœ ìƒíƒœ</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2053.png"
        data-srcset="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2053.png, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2053.png 1.5x, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2053.png 2x"
        data-sizes="auto"
        alt="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2053.png"
        title="image" /></p>
<br>
<p>commit() ì‹œì ì— ì“°ê¸°ì§€ì—° SQLì— ì €ì¥ëœ ì¿¼ë¦¬ë“¤ì„ ë‹¤ ì‹¤í–‰ì‹œì¼œì„œ DBì— ì ìš©í•œë‹¤.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2054.png"
        data-srcset="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2054.png, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2054.png 1.5x, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2054.png 2x"
        data-sizes="auto"
        alt="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2054.png"
        title="image" /></p>
<p><strong>ì“°ê¸° ì§€ì—°ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ </strong></p>
<p>-&gt; ë²„í¼ë§ ê¸°ëŠ¥ì´ ì œê³µ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="o">&lt;</span><span class="n">property</span> <span class="n">name</span><span class="o">=</span><span class="s">&#34;hibernate.jdbc.batch_size&#34;</span> <span class="n">value</span><span class="o">=</span><span class="s">&#34;10&#34;</span><span class="o">/&gt;</span>
</code></pre></div><p>-&gt; 10ê°œì”© ìŒ“ì¼ë•Œë§ˆë‹¤ ì ìš©í•˜ê²Œ í•˜ëŠ” ê¸°ëŠ¥</p>
<p>-&gt; ì¿¼ë¦¬ë¥¼ ì—¬ëŸ¬ë²ˆ ë‚ ë¦¬ì§€ ì•Šê³  ìµœì í™”ê°€ ê°€ëŠ¥í•˜ë‹¤.</p>
<br>
<br>
<h3 id="4-ì—”í‹°í‹°-ìˆ˜ì •---ë³€ê²½ê°ì§€dirty-checking">4. ì—”í‹°í‹° ìˆ˜ì • - ë³€ê²½ê°ì§€(Dirty Checking)</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="n">transaction</span><span class="o">.</span><span class="na">begin</span><span class="o">();</span>

<span class="c1">//ì—”í‹°í‹° ì¡°íšŒ
</span><span class="c1"></span><span class="n">Member</span> <span class="n">findMember</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">&#34;memberA&#34;</span><span class="o">);</span>

<span class="c1">//ì˜ì† ì—”í‹°í‹° ë°ì´í„° ìˆ˜ì •
</span><span class="c1"></span><span class="n">findMember</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">&#34;hi&#34;</span><span class="o">);</span>
<span class="n">findMember</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="n">10</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span>
</code></pre></div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2055.png"
        data-srcset="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2055.png, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2055.png 1.5x, https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2055.png 2x"
        data-sizes="auto"
        alt="https://cdn.jsdelivr.net/gh/jaeyeonme/blog@main/static/images/JPA/Untitled%2055.png"
        title="image" /></p>
<p>â†’ 1ì°¨ ìºì‹œì•ˆì—ëŠ” @Id, Entity , ìŠ¤ëƒ…ìƒ· ì´ ìˆë‹¤. ì—¬ê¸°ì„œ ìŠ¤ëƒ…ìƒ· ì€ ìµœì´ˆë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸(1ì°¨ìºì‹œ)ì— ë“¤ì–´ì˜¤ëŠ”ìˆœê°„ ìŠ¤ëƒ…ìƒ·ì„ ì°ì–´ì„œ ì €ì¥í•´ë‘”ë‹¤.</p>
<p>â†’ JPAëŠ” íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹(commit)ë˜ëŠ” ìˆœê°„ ì—”í‹°í‹°ì™€ ìŠ¤ëƒ…ìƒ·ì„ ëª¨ë‘ ë¹„êµí•œë‹¤.</p>
<p>â†’ ë³€ê²½ëœ ê²ƒì´ ìˆì„ ê²½ìš° ì“°ê¸°ì§€ì—° SQL ì €ì¥ì†Œ ì— ì—…ë°ì´íŠ¸ ì¿¼ë¦¬ë¥¼ ì €ì¥í•˜ê³  ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.</p>
<br>
<br>
<h3 id="5-ì—”í‹°í‹°-ì‚­ì œ">5. ì—”í‹°í‹° ì‚­ì œ</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="c1">//ì‚­ì œ ëŒ€ìƒ ì—”í‹°í‹° ì¡°íšŒ
</span><span class="c1"></span><span class="n">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">&#34;memberA&#34;</span><span class="o">);</span>
<span class="n">em</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">member</span><span class="o">);</span><span class="c1">//ì—”í‹°í‹° ì‚­ì œ
</span></code></pre></div><br>
<br>
<br>
<h2 id="3-í”ŒëŸ¬ì‹œflush">3. í”ŒëŸ¬ì‹œ(flush)</h2>
<p>: ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜(sync)</p>
<ul>
<li>
<p>í”ŒëŸ¬ì‹œ ë°œìƒ</p>
<ol>
<li>ë³€ê²½ ê°ì§€</li>
<li>ìˆ˜ì •ëœ ì—”í‹°í‹° ì“°ê¸°ì§€ì—° SQL ì €ì¥ì†Œì— ë“±ë¡</li>
<li>ì“°ê¸° ì§€ì—° SQLì €ì¥ì†Œì˜ ì¿¼ë¦¬ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì „ì†¡(ë“±ë¡, ìˆ˜ì •, ì‚­ì œ ì¿¼ë¦¬)</li>
</ol>
</li>
<li>
<p>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œ í•˜ëŠ” ë°©ë²•</p>
<ol>
<li>
<p>em.flush() : ì§ì ‘ í˜¸ì¶œ</p>
</li>
<li>
<p>íŠ¸ëœì­ì…˜ ì»¤ë°‹ : í”ŒëŸ¬ì‹œ ìë™ í˜¸ì¶œ</p>
</li>
<li>
<p>JPQL ì¿¼ë¦¬ ì‹¤í–‰ : í”ŒëŸ¬ì‹œ ìë™ í˜¸ì¶œ</p>
<ul>
<li>JPQL ì¿¼ë¦¬ ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” ì´ìœ </li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">memberA</span><span class="o">);</span>
<span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">memberB</span><span class="o">);</span>
<span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">memberC</span><span class="o">);</span>

<span class="c1">//ì¤‘ê°„ì— JPQL ì‹¤í–‰
</span><span class="c1"></span><span class="n">query</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span><span class="s">&#34;select m from Member m &#34;</span><span class="o">,</span> <span class="n">Member</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Member</span><span class="o">&gt;</span> <span class="n">members</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
</code></pre></div><ul>
<li>JPQLì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ì‹œì ì—ì„œ ìœ„ì— ì˜ì†í™” ì»¨í…ìŠ¤íŠ¸ì— ë“±ë¡í•œ memberë“¤ì´ ì¡°íšŒê°€ ì•ˆë˜ëŠ” ê²½ìš°ë¥¼ ë§‰ê¸° ìœ„í•´ JPAì—ì„œëŠ” JPQL ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•˜ê¸°ì „ì— flushë¥¼ ì‹¤í–‰í•´ì„œ DBì™€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°„ì— ë™ê¸°í™”ë¥¼ í•´ì¤€ë‹¤.</li>
</ul>
</li>
</ol>
</li>
</ul>
<br>
<br>
<h3 id="flushì—-ëŒ€í•œ-ì˜¤í•´">Flushì— ëŒ€í•œ ì˜¤í•´</h3>
<p>flushë¼ëŠ” ë‹¨ì–´ì˜ ëœ» ë•Œë¬¸ì— 1ì°¨ ìºì‹œê°€ ë¹„ì›Œì§„ë‹¤ê³  ì˜¤í•´í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ flushí•´ë„ 1ì°¨ ìºì‹œëŠ” ê·¸ëŒ€ë¡œë‹¤.1ì°¨ ìºì‹œë¥¼ flushí•œë‹¤ëŠ” ëœ»ì´ ì•„ë‹ˆê³ , ì“°ê¸° ì§€ì—° SQL ì €ì¥ì†Œë¥¼ flushí•œë‹¤ê³  ìƒê°í•˜ë©´ í¸í•˜ë‹¤.</p>
<p>flushëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ë‚´ìš©ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë™ê¸°í™”í•˜ëŠ” ì¼ì´ë©°, <strong>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” íŠ¸ëœì­ì…˜ì´ë¼ëŠ” ì‘ì—… ë‹¨ìœ„ì™€ í•¨ê»˜ ìœ ì§€ëœë‹¤ê³  ì„¤ê³„</strong>í•˜ëŠ” ê²Œ ì¢‹ë‹¤. ê·¸ëŸ¬ë©´ ë°ì´í„° ë™ê¸°í™”ì— ëŒ€í•œ ê±±ì •ì´ ì—†ì–´ì§„ë‹¤.</p>
<br>
<br>
<br>
<h2 id="4-ì¤€ì˜ì†-ìƒíƒœ">4. ì¤€ì˜ì† ìƒíƒœ</h2>
<p>ì—”í‹°í‹°ë¥¼ ìƒˆë¡œ ìƒì„±í•´ì„œ persistí•˜ê±°ë‚˜, findë¥¼ í†µí•´ DBì—ì„œ ì¡°íšŒí•˜ëŠ” ê²½ìš° 1ì°¨ ìºì‹œì— ì—”í‹°í‹°ê°€ ì €ì¥ëœë‹¤. ì´ë¥¼ ì˜ì† ìƒíƒœë¼ ë¶€ë¥¸ë‹¤.</p>
<p>ì´ë•Œ ì˜ì†(managed) ìƒíƒœì˜ ì—”í‹°í‹°ê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë¶„ë¦¬(datached)ëœ ìƒíƒœë¥¼ ì¤€ì˜ì† ìƒíƒœë¼ ë¶€ë¥´ë©°, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</p>
<ul>
<li>
<p><code>em.detach(entity) </code>: íŠ¹ì • ì—”í‹°í‹°ë§Œ ì¤€ì˜ì† ìƒíƒœë¡œ ì „í™˜</p>
</li>
<li>
<p><code>em.clear()</code> :  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì™„ì „íˆ ì´ˆê¸°í™”</p>
</li>
<li>
<p><code>em.close()</code> :  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¢…ë£Œ</p>
</li>
</ul>
<br>
<br>
<p><strong>Ex1)</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java">
 <span class="c1">// ì˜ì†
</span><span class="c1"></span><span class="n">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">150L</span><span class="o">);</span>
<span class="n">member</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&#34;AAAAA&#34;</span><span class="o">);</span>

<span class="c1">// ì¤€ì˜ì†
</span><span class="c1"></span><span class="n">em</span><span class="o">.</span><span class="na">detach</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;==========================&#34;</span><span class="o">);</span>
<span class="n">tx</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span>
</code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nl">Hibernate:</span> 
    <span class="n">select</span>
        <span class="n">member0_</span><span class="o">.</span><span class="na">id</span> <span class="n">as</span> <span class="n">id1_0_0_</span><span class="o">,</span>
        <span class="n">member0_</span><span class="o">.</span><span class="na">name</span> <span class="n">as</span> <span class="n">name2_0_0_</span> 
    <span class="n">from</span>
        <span class="n">Member</span> <span class="n">member0_</span> 
    <span class="n">where</span>
        <span class="n">member0_</span><span class="o">.</span><span class="na">id</span><span class="o">=?</span>
<span class="o">==========================</span>
</code></pre></div><br>
<br>
<p><strong>Ex2)</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="c1">// ì˜ì†
</span><span class="c1"></span><span class="n">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">150L</span><span class="o">);</span>
<span class="n">member</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&#34;AAAAA&#34;</span><span class="o">);</span>

<span class="n">em</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>

<span class="n">Member</span> <span class="n">member2</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">150L</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;==========================&#34;</span><span class="o">);</span>
<span class="n">tx</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span>
</code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nl">Hibernate:</span> 
    <span class="n">select</span>
        <span class="n">member0_</span><span class="o">.</span><span class="na">id</span> <span class="n">as</span> <span class="n">id1_0_0_</span><span class="o">,</span>
        <span class="n">member0_</span><span class="o">.</span><span class="na">name</span> <span class="n">as</span> <span class="n">name2_0_0_</span> 
    <span class="n">from</span>
        <span class="n">Member</span> <span class="n">member0_</span> 
    <span class="n">where</span>
        <span class="n">member0_</span><span class="o">.</span><span class="na">id</span><span class="o">=?</span>
<span class="nl">Hibernate:</span> 
    <span class="n">select</span>
        <span class="n">member0_</span><span class="o">.</span><span class="na">id</span> <span class="n">as</span> <span class="n">id1_0_0_</span><span class="o">,</span>
        <span class="n">member0_</span><span class="o">.</span><span class="na">name</span> <span class="n">as</span> <span class="n">name2_0_0_</span> 
    <span class="n">from</span>
        <span class="n">Member</span> <span class="n">member0_</span> 
    <span class="n">where</span>
        <span class="n">member0_</span><span class="o">.</span><span class="na">id</span><span class="o">=?</span>
<span class="o">==========================</span>
</code></pre></div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2021-12-29</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://jaeyeonme.github.io/posts/jpa-persistence-management-works/" data-title="ì˜ì†ì„±ê´€ë¦¬ - ë‚´ë¶€ ë™ì‘ ë°©ì‹" data-hashtags="JPA,Hibernate"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://jaeyeonme.github.io/posts/jpa-persistence-management-works/" data-hashtag="JPA"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="https://jaeyeonme.github.io/posts/jpa-persistence-management-works/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="Share on Blogger" data-sharer="blogger" data-url="https://jaeyeonme.github.io/posts/jpa-persistence-management-works/" data-title="ì˜ì†ì„±ê´€ë¦¬ - ë‚´ë¶€ ë™ì‘ ë°©ì‹" data-description=""><i class="fab fa-blogger fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/jpa/">JPA</a>,&nbsp;<a href="/tags/hibernate/">Hibernate</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"></div>
</div>
<div id="comments"><div id="utterances">
                <script src="https://utteranc.es/client.js"
                        repo="jaeyeonme/blog_comments"
                        issue-term="pathname"
                        theme="preferred-color-scheme"
                        crossorigin="anonymous"
                        async>
                </script>
            </div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://utteranc.es/">Utterances</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.91.2">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Jaeeon</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":500},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"","lightTheme":"github-light","repo":"jaeyeonme/blog_comments"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
