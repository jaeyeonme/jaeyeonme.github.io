<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>Spring Data JPA - Category - ğŸ“š | Dev Blog</title>
        <link>https://jaeyeonme.github.io/categories/spring-data-jpa/</link>
        <description>Spring Data JPA - Category - ğŸ“š | Dev Blog</description>
        <generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Fri, 31 Dec 2021 10:30:00 &#43;0000</lastBuildDate><atom:link href="https://jaeyeonme.github.io/categories/spring-data-jpa/" rel="self" type="application/rss+xml" /><item>
    <title>í™•ì¥ ê¸°ëŠ¥</title>
    <link>https://jaeyeonme.github.io/posts/spring-data-jpa-extension/</link>
    <pubDate>Fri, 31 Dec 2021 10:30:00 &#43;0000</pubDate>
    <author>Author</author>
    <guid>https://jaeyeonme.github.io/posts/spring-data-jpa-extension/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/images/JPA/spring-data-jpa.png" referrerpolicy="no-referrer">
            </div>1. ì‚¬ìš©ì ì •ì˜ ë¦¬í¬ì§€í† ë¦¬ êµ¬í˜„ ì‚¬ìš©ì ì •ì˜ ë¦¬í¬ì§€í† ë¦¬ êµ¬í˜„  ìŠ¤í”„ë§ ë°ì´í„° JPA ë¦¬í¬ì§€í† ë¦¬ëŠ” ì¸í„°í˜ì´ìŠ¤ë§Œ ì •ì˜í•˜ê³  êµ¬í˜„ì²´ëŠ” ìŠ¤í”„ë§ì´ ìë™ ìƒì„± ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ë¥¼ ì§ì ‘ êµ¬í˜„í•˜ë©´ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ê¸°ëŠ¥ì´ ë„ˆë¬´ ë§ìŒ ë‹¤ì–‘í•œ ì´ìœ ë¡œ ì¸í„°í˜ì´ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì§ì ‘ êµ¬í˜„í•˜ê³  ì‹¶ë‹¤ë©´?  JPA ì§ì ‘ ì‚¬ìš©(EntityManager) ìŠ¤í”„ë§ JDBC Template ì‚¬ìš© MyBatis ì‚¬ìš© ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ ì§ì ‘ ì‚¬ìš© ë“±ë“±.. QueryDSL ì‚¬ìš©    ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤
public interface MemberRepositoryCustom { List&lt;Member&gt; findMemberCustom(); } 
ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ í´ë˜ìŠ¤
@RequiredArgsConstructor public class MemberRepositoryImpl implements MemberRepositoryCustom { private final EntityManager em; @Override public List&lt;Member&gt; findMemberCustom() { return em.createQuery(&#34;select m from Member m&#34;) .getResultList(); } } 
ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤ ìƒì†
public interface MemberRepository extends JpaRepository&lt;Member, Long&gt;, MemberRepositoryCustom { } 
ì‚¬ìš©ì ì •ì˜ ë©”ì„œë“œ í˜¸ì¶œ ì½”ë“œ
List&lt;Member&gt; result = memberRepository.findMemberCustom(); 
ì‚¬ìš©ì ì •ì˜ êµ¬í˜„ í´ë˜ìŠ¤
 ê·œì¹™ : ë¦¬í¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ + Impl ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì¸ì‹í•´ì„œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡  Impl ëŒ€ì‹œ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ë³€ê²½í•˜ê³  ì‹¶ìœ¼ë©´?
XML ì„¤ì •
&lt;repositories base-package=&#34;study.datajpa.repository&#34; repository-impl-postfix=&#34;Impl&#34; /&gt; 
JavaConfig ì„¤ì •
@EnableJpaRepositories(basePackages = &#34;study.datajpa.repository&#34;, repositoryImplementationPostfix = &#34;Impl&#34;) 
ì°¸ê³  ì‹¤ë¬´ì—ì„œëŠ” ì£¼ë¡œ QueryDSLì´ë‚˜ SpringJdbcTemplateì„ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©ì ì •ì˜ ë¦¬í¬ì§€í† ë¦¬ ê¸°ëŠ¥ ìì£¼ ì‚¬ìš© í•­ìƒ ì‚¬ìš©ì ì •ì˜ ë¦¬í¬ì§€í† ë¦¬ê°€ í•„ìš”í•œ ê²ƒì€ ì•„ë‹ˆë‹¤. ê·¸ëƒ¥ ì„ì˜ì˜ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ë§Œë“¤ì–´ë„ ëœë‹¤.
ì˜ˆë¥¼ë“¤ì–´ MemberQueryRepositoryë¥¼ ì¸í„°í˜ì´ìŠ¤ê°€ ì•„ë‹Œ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ê³  ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ì„œ ê·¸ëƒ¥ ì§ì ‘ ì‚¬ìš©í•´ë„ ëœë‹¤. ë¬¼ë¡  ì´ ê²½ìš° ìŠ¤í”„ë§ ë°ì´í„° JPAì™€ëŠ” ì•„ë¬´ëŸ° ê´€ê³„ ì—†ì´ ë³„ë„ë¡œ ë™ì‘í•œë‹¤.
ì‚¬ìš©ì ì •ì˜ ë¦¬í¬ì§€í† ë¦¬ êµ¬í˜„ ìµœì‹  ë°©ì‹ ìŠ¤í”„ë§ ë°ì´í„° 2.x ë¶€í„°ëŠ” ì‚¬ìš©ì ì •ì˜ êµ¬í˜„ í´ë˜ìŠ¤ì— ë¦¬í¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ + Impl ì„ ì ìš©í•˜ëŠ” ëŒ€ì‹ ì— ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤ ëª… + Impl ë°©ì‹ë„ ì§€ì›í•œë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ ìœ„ ì˜ˆì œì˜ MemberRepositoryImpl ëŒ€ì‹ ì— MemberRepositoryCustomImpl ê°™ì´ êµ¬í˜„í•´ë„ ëœë‹¤.
ìµœì‹  ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ í´ë˜ìŠ¤ ì˜ˆì œ
@RequiredArgsConstructor public class MemberRepositoryCustomImpl implements MemberRepositoryCustom { private final EntityManager em; @Override public List&lt;Member&gt; findMemberCustom() { return em.createQuery(&#34;select m from Member m&#34;) .getResultList(); } } ê¸°ì¡´ ë°©ì‹ë³´ë‹¤ ì´ ë°©ì‹ì´ ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ê³¼ êµ¬í˜„ í´ë˜ìŠ¤ ì´ë¦„ì´ ë¹„ìŠ·í•˜ë¯€ë¡œ ë” ì§ê´€ì ì´ë‹¤. ì¶”ê°€ë¡œ ì—¬ëŸ¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¶„ë¦¬í•´ì„œ êµ¬í˜„í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ìƒˆë¡­ê²Œ ë³€ê²½ëœ ì´ ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë” ê¶Œì¥í•œë‹¤.
2. Auditing  ì—”í‹°í‹°ë¥¼ ìƒì„±, ë³€ê²½í•  ë•Œ ë³€ê²½í•œ ì‚¬ëŒê³¼ ì‹œê°„ì„ ì¶”ì í•˜ê³  ì‹¶ìœ¼ë©´?  ë“±ë¡ì¼ ìˆ˜ì •ì¼ ë“±ë¡ì ìˆ˜ì •ì    ìˆœìˆ˜ JPA ì‚¬ìš© ìš°ì„  ë“±ë¡ì¼, ìˆ˜ì •ì¼ ì ìš©
@Getter @MappedSuperclass public class JpaBaseEntity { @Column(updatable = false) private LocalDateTime createdDate; private LocalDateTime updatedDate; @PrePersist public void prePersist() { LocalDateTime now = LocalDateTime.now(); createdDate = now; updatedDate = now; } @PreUpdate public void preUpdate() { updatedDate = LocalDateTime.now(); } } JPA ì£¼ìš” ì´ë²¤íŠ¸ ì–´ë…¸í…Œì´ì…˜
 @PrePersist, @PostPersist @PreUpdate, @PostUpdate  ìŠ¤í”„ë§ ë°ì´í„° JPA ì‚¬ìš© ì„¤ì •
@EnableJpaAuditing â†’ ìŠ¤í”„ë§ ë¶€íŠ¸ ì„¤ì • í´ë˜ìŠ¤ì— ì ìš©í•´ì•¼í•¨
@EntityListeners(AuditingEntityListener.class) â†’ ì—”í‹°í‹°ì— ì ìš©
ì‚¬ìš© ì–´ë…¸í…Œì´ì…˜
 @CreatedDate @LastModifiedDate @CreatedBy @LastModifiedBy  ìŠ¤í”„ë§ ë°ì´í„° Auditing ì ìš© - ë“±ë¡ì¼, ìˆ˜ì •ì¼
@EntityListeners(AuditingEntityListener.class) @MappedSuperclass @Getter public class BaseEntity { @CreatedBy @Column(updatable = false) private String createdBy; @LastModifiedBy private String lastModifiedBy; } 
ìŠ¤í”„ë§ ë°ì´í„° Auditing ì ìš© - ë“±ë¡ì, ìˆ˜ì •ì
@EntityListeners(AuditingEntityListener.class) @MappedSuperclass @Getter public class BaseTimeEntity { @CreatedDate @Column(updatable = false) private LocalDateTime createdDate; @LastModifiedDate private LocalDateTime lastModifiedDate; } 
ë“±ë¡ì, ìˆ˜ì •ìë¥¼ ì²˜ë¦¬í•´ì£¼ëŠ” AuditorAware ìŠ¤í”„ë§ ë¹ˆ ë“±ë¡
@Bean public AuditorAware&lt;String&gt; auditorProvider() { return () -&gt; Optional.of(UUID.randomUUID().toString()); } ì‹¤ë¬´ì—ì„œëŠ” ì„¸ì…˜ ì •ë³´ë‚˜, ìŠ¤í”„ë§ ì‹œíë¦¬í‹° ë¡œê·¸ì¸ ì •ë³´ì—ì„œ IDë¥¼ ë°›ìŒ]]></description>
</item><item>
    <title>ì¿¼ë¦¬ ë©”ì†Œë“œ</title>
    <link>https://jaeyeonme.github.io/posts/spring-data-jpa-query-method/</link>
    <pubDate>Fri, 31 Dec 2021 09:30:00 &#43;0000</pubDate>
    <author>Author</author>
    <guid>https://jaeyeonme.github.io/posts/spring-data-jpa-query-method/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/images/JPA/spring-data-jpa.png" referrerpolicy="no-referrer">
            </div>1. ì¿¼ë¦¬ ë©”ì†Œë“œ ê¸°ëŠ¥  ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„± NamedQuery @Query - ë¦¬íŒŒì§€í† ë¦¬ ë©”ì†Œë“œì— ì¿¼ë¦¬ ì •ì˜ íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ë°˜í™˜ íƒ€ì… í˜ì´ì§•ê³¼ ì •ë ¬ ë²Œí¬ì„± ìˆ˜ì • ì¿¼ë¦¬ @EntityGraph  ì¿¼ë¦¬ ë©”ì†Œë“œ ê¸°ëŠ¥ 3ê°€ì§€
 ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„± ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ JPA namedQuery í˜¸ì¶œ @Query ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ë¦¬í¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ì— ì¿¼ë¦¬ ì§ì ‘ ì •ì˜  ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„± ë©”ì†Œë“œ ì´ë¦„ì„ ë¶„ì„í•´ì„œ JPQL ì¿¼ë¦¬ ì‹¤í–‰
ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ íšŒì›ì„ ì¡°íšŒí•˜ë ¤ë©´?
ìˆœìˆ˜ JPA ë¦¬í¬ì§€í† ë¦¬
public List&lt;Member&gt; findByUsernameAndAgeGreaterThen(String username, int age) { return em.createQuery(&#34;select m from Member m where m.username = :username and m.age &gt; :age&#34;) .setParameter(&#34;username&#34;, username) .setParameter(&#34;age&#34;, age) .getResultList(); } 
ìˆœìˆ˜ JPA í…ŒìŠ¤íŠ¸ ì½”ë“œ
@Test public void findByUsernameAndAgeGreaterThen() { Member m1 = new Member(&#34;AAA&#34;, 10); Member m2 = new Member(&#34;AAA&#34;, 20); memberJpaRepository.save(m1); memberJpaRepository.save(m2); List&lt;Member&gt; result = memberJpaRepository.findByUsernameAndAgeGreaterThen(&#34;AAA&#34;, 15); assertThat(result.get(0).getUsername()).isEqualTo(&#34;AAA&#34;); assertThat(result.get(0).getAge()).isEqualTo(20); assertThat(result.size()).isEqualTo(1); } 
ìŠ¤í”„ë§ ë°ì´í„° JPA
public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; { List&lt;Member&gt; findByUsernameAndAgeGreaterThan(String username, int age); }  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” ë©”ì†Œë“œ ì´ë¦„ì„ ë¶„ì„í•´ì„œ JPQLì„ ìƒì„±í•˜ê³  ì‹¤í–‰  ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì œê³µí•˜ëŠ” ì¿¼ë¦¬ ë©”ì†Œë“œ ê¸°ëŠ¥
 ì¡°íšŒ: findâ€¦By ,readâ€¦By ,queryâ€¦By getâ€¦By,  https://docs.spring.io/spring-data/jpa/docs/current/reference/html/ #repositories.query-methods.query-creation ì˜ˆ:) findHelloBy ì²˜ëŸ¼ &hellip;ì— ì‹ë³„í•˜ê¸° ìœ„í•œ ë‚´ìš©(ì„¤ëª…)ì´ ë“¤ì–´ê°€ë„ ëœë‹¤.   COUNT: countâ€¦By ë°˜í™˜íƒ€ì… long EXISTS: existsâ€¦By ë°˜í™˜íƒ€ì… boolean ì‚­ì œ: deleteâ€¦By, removeâ€¦By ë°˜í™˜íƒ€ì… long DISTINCT: findDistinct, findMemberDistinctBy LIMIT: findFirst3, findFirst, findTop, findTop3  https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.limit-query-result    ì°¸ê³  ì´ ê¸°ëŠ¥ì€ ì—”í‹°í‹°ì˜ í•„ë“œëª…ì´ ë³€ê²½ë˜ë©´ ì¸í„°í˜ì´ìŠ¤ì— ì •ì˜í•œ ë©”ì„œë“œ ì´ë¦„ë„ ê¼­ í•¨ê»˜ ë³€ê²½í•´ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹œì‘í•˜ëŠ” ì‹œì ì— ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ì´ë ‡ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë”© ì‹œì ì— ì˜¤ë¥˜ë¥¼ ì¸ì§€í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ìŠ¤í”„ë§ ë°ì´í„° JPAì˜ ë§¤ìš° í° ì¥ì ì´ë‹¤.
2. JPA NamedQuery JPAì˜ NamedQueryë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŒ
@NamedQuery ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ Named ì¿¼ë¦¬ ì •ì˜
@Entity @NamedQuery( name = &#34;Member.findByUsername&#34;, query = &#34;select m from Member m where m.username = :username&#34; ) public class Member { ... } 
JPAë¥¼ ì§ì ‘ ì‚¬ìš©í•´ì„œ Named ì¿¼ë¦¬ í˜¸ì¶œ
public class MemberRepository { public List&lt;Member&gt; findByUsername(String username) { ... return em.createNamedQuery(&#34;Member.findByUsername&#34;, Member.class) .setParameter(&#34;username&#34;, username) .getResultList(); } } 
ìŠ¤í”„ë§ ë°ì´í„° JPAë¡œ NamedQuery ì‚¬ìš©
@Query(name = &#34;Member.findByUsername&#34;) List&lt;Member&gt; findByUsername(@Param(&#34;username&#34;) String username); @Query ë¥¼ ìƒëµí•˜ê³  ë©”ì„œë“œ ì´ë¦„ë§Œìœ¼ë¡œ Named ì¿¼ë¦¬ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
ìŠ¤í”„ë§ ë°ì´í„° JPAë¡œ Named ì¿¼ë¦¬ í˜¸ì¶œ
public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; { // ** ì—¬ê¸° ì„ ì–¸í•œ Member ë„ë©”ì¸ í´ë˜ìŠ¤  List&lt;Member&gt; findByUsername(@Param(&#34;username&#34;) String username); }  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” ì„ ì–¸í•œ &ldquo;ë„ë©”ì¸ í´ë˜ìŠ¤ + .(ì ) + ë©”ì„œë“œ ì´ë¦„&rdquo; ìœ¼ë¡œ Named ì¿¼ë¦¬ë¥¼ ì°¾ì•„ì„œ ì‹¤í–‰ ë§Œì•½ ì‹¤í–‰í•  Named ì¿¼ë¦¬ê°€ ì—†ìœ¼ë©´ ë©”ì„œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„± ì „ëµì„ ì‚¬ìš©í•œë‹¤. í•„ìš”í•˜ë©´ ì „ëµì„ ë³€ê²½í•  ìˆ˜ ìˆì§€ë§Œ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.  ì°¸ê³  : https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-lookup-strategies    ì°¸ê³  ìŠ¤í”„ë§ ë°ì´í„° JPAë¥¼ ì‚¬ìš©í•˜ë©´ ì‹¤ë¬´ì—ì„œ Named Queryë¥¼ ì§ì ‘ ë“±ë¡í•´ì„œ ì‚¬ìš©í•˜ëŠ” ì¼ì€ ë“œë¬¼ë‹¤. ëŒ€ì‹  @Query ë¥¼ ì‚¬ìš©í•´ì„œ ë¦¬í¬ì§€í† ë¦¬ ë©”ì†Œë“œì— ì¿¼ë¦¬ë¥¼ ì§ì ‘ ì •ì˜í•œë‹¤.
3. @Query, ë¦¬í¬ì§€í† ë¦¬ ë©”ì†Œë“œì— ì¿¼ë¦¬ ì •ì˜í•˜ê¸° ë©”ì„œë“œ JPQL ì¿¼ë¦¬ ì‘ì„± public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; { @Query(&#34;select m from Member m where m.username = :username and m.age = :age&#34;) List&lt;Member&gt; findUser(@Param(&#34;username&#34;) String username, @Param(&#34;age&#34;) int age); }  @org.springframework.data.jpa.repository.Query ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš© ì‹¤í–‰í•  ë©”ì„œë“œì— ì •ì  ì¿¼ë¦¬ë¥¼ ì§ì ‘ ì‘ì„±í•˜ë¯€ë¡œ ì´ë¦„ ì—†ëŠ” Named ì¿¼ë¦¬ë¼ í•  ìˆ˜ ìˆìŒ JPA Named ì¿¼ë¦¬ì²˜ëŸ¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì‹œì ì— ë¬¸ë²• ì˜¤ë¥˜ë¥¼ ë°œê²¬í•  ìˆ˜ ìˆìŒ (ë§¤ìš° í° ì¥ì !)  ì°¸ê³  ì‹¤ë¬´ì—ì„œëŠ” ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„± ê¸°ëŠ¥ì€ íŒŒë¼ë¯¸í„°ê°€ ì¦ê°€í•˜ë©´ ë©”ì„œë“œ ì´ë¦„ì´ ë§¤ìš° ì§€ì €ë¶„í•´ì§„ë‹¤.]]></description>
</item><item>
    <title>ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ê¸°ëŠ¥</title>
    <link>https://jaeyeonme.github.io/posts/spring-data-jpa-common-interface/</link>
    <pubDate>Fri, 31 Dec 2021 09:00:00 &#43;0000</pubDate>
    <author>Author</author>
    <guid>https://jaeyeonme.github.io/posts/spring-data-jpa-common-interface/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/images/JPA/spring-data-jpa.png" referrerpolicy="no-referrer">
            </div>1. ìˆœìˆ˜ JPAê¸°ë°˜ ë¦¬í¬ì§€í† ë¦¬ ë§Œë“¤ê¸°  ê¸°ë³¸ CRUD  ì €ì¥ ë³€ê²½ â†’ ë³€ê²½ê°ì§€ ì‚¬ìš© ì‚­ì œ ì „ì²´ ì¡°íšŒ ë‹¨ê±´ ì¡°íšŒ ì¹´ìš´íŠ¸     ì°¸ê³ : JPAì—ì„œ ìˆ˜ì •ì€ ë³€ê²½ê°ì§€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•œ ë‹¤ìŒì— ë°ì´í„°ë¥¼ ë³€ê²½í•˜ë©´, íŠ¸ëœì­ì…˜ ì¢…ë£Œ ì‹œì ì— ë³€ê²½ê°ì§€ ê¸°ëŠ¥ì´ ì‘ë™í•´ì„œ ë³€ê²½ëœ ì—”í‹°í‹°ë¥¼ ê°ì§€í•˜ê³  UPDATE SQLì„ ì‹¤í–‰í•œë‹¤.
 ìˆœìˆ˜ JPA ê¸°ë°˜ ë¦¬í¬ì§€í† ë¦¬
@Repository public class MemberJpaRepository { @PersistenceContext private EntityManager em; // Create (ì €ì¥)  public Member save(Member member) { em.persist(member); return member; } // Delete (ì‚­ì œ)  public void delete(Member member) { em.remove(member); } // Read (ì¡°íšŒ)  public List&lt;Member&gt; findAll() { // JPQL  return em.createQuery(&#34;select m from Member m&#34;, Member.class) .getResultList(); } public Optional&lt;Member&gt; findById(Long id) { Member member = em.find(Member.class, id); return Optional.ofNullable(member); } public long count() { return em.createQuery(&#34;select count(m) from Member m&#34;, Long.class) .getSingleResult(); } public Member find(Long id) { return em.find(Member.class, id); } }  íšŒì› ë¦¬í¬ì§€í† ë¦¬ì™€ ê±°ì˜ ë™ì¼í•˜ë‹¤.  2. ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ì„¤ì • javaConfig ì„¤ì • - ìŠ¤í”„ë§ ë¶€íŠ¸ ì‚¬ìš©ì‹œ ìƒëµ ê°€ëŠ¥ @Configuration @EnableJpaRepositories(basePackages = &#34;jpabook.jpashop.repository&#34;) public class AppConfig {}  ìŠ¤í”„ë§ ë¶€íŠ¸ ì‚¬ìš©ì‹œ @SpringBootApplication ìœ„ì¹˜ë¥¼ ì§€ì •(í•´ë‹¹ íŒ¨í‚¤ì§€ì™€ í•˜ìœ„ íŒ¨í‚¤ì§€ ì¸ì‹) ë§Œì•½ ìœ„ì¹˜ê°€ ë‹¬ë¼ì§€ë©´ @EnableJpaRepositories í•„ìš”  ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ êµ¬í˜„ í´ë˜ìŠ¤ ëŒ€ì‹  ìƒì„±  org.springframework.data.repository.Repository ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ëŠ” ìŠ¤ìº” ëŒ€ìƒ  MemberRepository ì¸í„°í˜ì´ìŠ¤ê°€ ë™ì‘í•œ ì´ìœ  ì‹¤ì œ ì¶œë ¥í•´ë³´ê¸°(Proxy) memberRepository.getClass() â†’ class com.sun.proxy.$ProxyXXX   @Repository ì• ë…¸í…Œì´ì…˜ ìƒëµ ê°€ëŠ¥  ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬ JPA ì˜ˆì™¸ë¥¼ ìŠ¤í”„ë§ ì˜ˆì™¸ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ë„ ìë™ìœ¼ë¡œ ì²˜ë¦¬    3. ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ì ìš© ìˆœìˆ˜ JPAë¡œ êµ¬í˜„í•œ MemberJpaRepository ëŒ€ì‹ ì— ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì œê³µí•˜ëŠ” ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©
ìŠ¤í”„ë§ ë°ì´í„° JPA ê¸°ë°˜ Repository public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; { }  Generic  T : ì—”í‹°í‹° íƒ€ì… ID : ì‹ë³„ì íƒ€ì…(PK)    4. ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ë¶„ì„  JpaRepository ì¸í„°í˜ì´ìŠ¤ : ê³µí†µ CURD ì œê³µ ì œë„¤ë¦­ì€ &lt;ì—”í‹°í‹° íƒ€ì…, ì‹ë³„ì íƒ€ì…&gt; ì„¤ì •  JpaRepository ê³µí†µ ê¸°ëŠ¥ ì¸í„°í˜ì´ìŠ¤
public interface JpaRepository&lt;T, ID extends Serializable&gt; extends PagingAndSortingRepository&lt;T, ID&gt; { ... } 
JpaRepository ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤
public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; { } 
ê³µí†µ ì¸í„°í˜ì´ìŠ¤ êµ¬ì„± ì£¼ì˜
 T findOne(ID) â†’ Optional&lt;T&gt; findById(ID) ë³€ê²½  ì œë„¤ë¦­ íƒ€ì…
 T : ì—”í‹°í‹° ID : ì—”í‹°í‹°ì˜ ì‹ë³„ì íƒ€ì… S : ì—”í‹°í‹°ì™€ ê·¸ ìì‹ íƒ€ì…  ì£¼ìš” ë©”ì„œë“œ
 save(S) : ìƒˆë¡œìš´ ì—”í‹°í‹°ëŠ” ì €ì¥í•˜ê³  ì´ë¯¸ ìˆëŠ” ì—”í‹°í‹°ëŠ” ë³‘í•©í•œë‹¤. delete(T) : ì—”í‹°í‹° í•˜ë‚˜ë¥´ ì‚­ì œí•œë‹¤. ë‚´ë¶€ì—ì„œ EntityManager.remove() í˜¸ì¶œ findById(ID) : ì—”í‹°í‹° í•˜ë‚˜ë¥¼ ì¡°íšŒí•œë‹¤. ë‚´ë¶€ì—ì„œ EntityManager.find() í˜¸ì¶œ getOne(ID) : ì—”í‹°í‹°ë¥¼ í”„ë¡ì‹œë¡œ ì¡°íšŒí•œë‹¤. ë‚´ë¶€ì—ì„œ EntityManager.getReference() í˜¸ì¶œ findAll(...) : ëª¨ë“  ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•œë‹¤. ì •ë ¬(Sort)ì´ë‚˜ í˜ì´ì§•(Pageable) ì¡°ê±´ì„ íŒŒë¼ë¯¸í„°ë¡œ ì œê³µí•  ìˆ˜ ìˆë‹¤.  ì°¸ê³ : JpaRepository ëŠ” ëŒ€ë¶€ë¶„ì˜ ê³µí†µ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.]]></description>
</item></channel>
</rss>
