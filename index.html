<!DOCTYPE html>
<html lang="en">
    <head>
	<meta name="generator" content="Hugo 0.91.2" />
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>ğŸ“š | Dev Blog</title><meta name="Description" content=""><meta property="og:title" content="ğŸ“š | Dev Blog" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://jaeyeonme.github.io/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ğŸ“š | Dev Blog"/>
<meta name="twitter:description" content=""/>
<meta name="application-name" content="ğŸ“š | Dev Blog">
<meta name="apple-mobile-web-app-title" content="ğŸ“š | Dev Blog"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://jaeyeonme.github.io/" /><link rel="alternate" href="/index.xml" type="application/rss+xml" title="ğŸ“š | Dev Blog">
    <link rel="feed" href="/index.xml" type="application/rss+xml" title="ğŸ“š | Dev Blog"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "https:\/\/jaeyeonme.github.io\/","inLanguage": "en","author": {
                "@type": "Person",
                "name": "Jaeyeon"
            },"name": "ğŸ“š | Dev Blog"
    }
    </script></head>
    <body header-desktop="auto" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="ğŸ“š | Dev Blog">ğŸ“š | Dev Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="ğŸ“š | Dev Blog">ğŸ“š | Dev Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="page home" posts><div class="home-profile"><div class="home-avatar"><a href="/posts/" title="Posts"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/profile.png"
        data-srcset="/images/profile.png, /images/profile.png 1.5x, /images/profile.png 2x"
        data-sizes="auto"
        alt="/images/profile.png"
        title="/images/profile.png" /></a></div><h2 class="home-subtitle"><div id="id-1" class="typeit"></div></h2><div class="links"><a href="https://github.com/jaeyeonme" title="GitHub" target="_blank" rel="noopener noreffer me"><i class="fab fa-github-alt fa-fw"></i></a><a href="mailto:cjyeon1022@gmail.com" title="Email" rel=" me"><i class="far fa-envelope fa-fw"></i></a><a href="/index.xml" title="RSS" target="_blank" rel="noopener noreffer me"><i class="fas fa-rss fa-fw"></i></a></div></div>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/querydsl-intermediate-grammer/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/JPA/querydsl.png"
        data-srcset="/images/JPA/querydsl.png, /images/JPA/querydsl.png 1.5x, /images/JPA/querydsl.png 2x"
        data-sizes="auto"
        alt="/images/JPA/querydsl.png"
        title="/images/JPA/querydsl.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/querydsl-intermediate-grammer/">QueryDSL ì¤‘ê¸‰ ë¬¸ë²•</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jaeyeon</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-12-31">2021-12-31</time></span>&nbsp;<span class="post-category">included in <a href="/categories/querydsl/"><i class="far fa-folder fa-fw"></i>QueryDSL</a></span></div><div class="content">í”„ë¡œì ì…˜ê³¼ ê²°ê³¼ ë°˜í™˜ - ê¸°ë³¸ í”„ë¡œì ì…˜ : select ëŒ€ìƒ ì§€ì •
í”„ë¡œì ì…˜ ëŒ€ìƒì´ í•˜ë‚˜
List&lt;String&gt; result = queryFactory .select(member.username) .from(member) .fetch();  í”„ë¡œì ì…˜ ëŒ€ìƒì´ í•˜ë‚˜ë©´ íƒ€ì…ì„ ëª…í™•í•˜ê²Œ ì§€ì •í•  ìˆ˜ ìˆìŒ(List&lt;String&gt;) í”„ë¡œì ì…˜ ëŒ€ìƒì´ ë‘˜ ì´ìƒì´ë©´ íŠœí”Œì´ë‚˜ DTOë¡œ ì¡°íšŒ  íŠœí”Œ ì¡°íšŒ í”„ë¡œì ì…˜ ëŒ€ìƒì´ ë‘˜ ì´ìƒì¼ ë•Œ ì‚¬ìš©
com.querydsl.core.Tuple
List&lt;Tuple&gt; result = queryFactory .select(member.username, member.age) .from(member) .fetch(); for (Tuple tuple : result) { String username = tuple.get(member.username); Integer age = tuple.get(member.age); System.out.println(&#34;username = &#34; + username); System.out.println(&#34;age = &#34; + age); }  Tuple ì€ ë¦¬í¬ì§€í† ë¦¬ ê³„ì¸µì•ˆì—ì„œ ì“°ëŠ” ì •ë„ëŠ” ê´œì°®ì§€ë§Œ ê·¸ ë°–ì˜ ê³„ì¸µì—ì„œëŠ” DTOë¡œ ë³€í™˜í•´ì„œ ì“°ëŠ” ê²ƒì´ ì¢‹ë‹¤. â†’ Tuple ë„ ê²°êµ­ Querydslì— ì¢…ì†ì ì´ê¸° ë–„ë¬¸  í”„ë¡œì ì…˜ê³¼ ê²°ê³¼ ë°˜í™˜ - DTO ì¡°íšŒ ìˆœìˆ˜ JPAì—ì„œ DTO ì¡°íšŒ ìœ„ì—ì„œ select ì ˆì—ì„œ ëŒ€ìƒì„ ì§€ì •(í”„ë¡œì ì…˜)í•´ì„œ ê°€ì ¸ì˜¤ê³  ì‹¶ì„ë•Œ ê·¸ ëŒ€ìƒì´ ë‘˜ ì´ìƒì´ë©´ Tupleë¡œ ê°€ì ¸ì™”ì—ˆë‹¤. í•˜ì§€ë§Œ, ê·¸ ì™¸ ê³„ì¸µìœ¼ë¡œ ê°€ì ¸ê°ˆ ë•ŒëŠ” DTOë¡œ ê°€ì ¸ê°€ëŠ”ê²Œ ì¢‹ë‹¤. ìš°ì„  ìˆœìˆ˜ JPAë¥¼ ì´ìš©í•´ì„œ DTOë¡œ ì¡°íšŒí•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì.
MemberDto
@Data @NoArgsConstructor public class MemberDto { private String username; private int age; public MemberDto(String username, int age) { this.username = username; this.age = age; } } 
ìˆœìˆ˜ JPAì—ì„œ DTO ì¡°íšŒ ì½”ë“œ
@Test public void findDtoByJPQL() { List&lt;MemberDto&gt; result = em.createQuery(&#34;select new study.querydsl.dto.MemberDto(m.username, m.age) from Member m&#34;, MemberDto.class) .getResultList(); for (MemberDto memberDto : result) { System.out.println(&#34;memberDto = &#34; + memberDto); } }  ìˆœìˆ˜ JPAì—ì„œ DTOë¥¼ ì¡°íšŒí•  ë•ŒëŠ” new ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨ DTOì˜ packageì´ë¦„ì„ ë‹¤ ì ì–´ì¤˜ì•¼í•´ì„œ ì§€ì €ë¶„í•¨ ìƒì„±ì ë°©ì‹ë§Œ ì§€ì›í•¨  QueryDSL ë¹ˆ ìƒì„± (Bean Population) ê²°ê³¼ë¥¼ DTOë°˜í™˜í•  ë–„ ì‚¬ìš©í•˜ë©° 3ê°€ì§€ ë°©ë²•ì´ ì¡´ì¬í•œë‹¤.
 í”„ë¡œí¼í‹° ì ‘ê·¼ í•„ë“œ ì§ì ‘ ì ‘ê·¼ ìƒì„±ì ì‚¬ìš©  í”„ë¡œí¼í‹° ì ‘ê·¼ - Setter
@Test public void findDtoBySetter() { List&lt;MemberDto&gt; result = queryFactory .select(Projections.bean(MemberDto.class, member.username, member.age)) .from(member) .fetch(); for (MemberDto memberDto : result) { System.out.println(&#34;memberDto = &#34; + memberDto); } }  Projections.bean(ì£¼ì…ëŒ€ìƒí´ë˜ìŠ¤, í”„ë¡œí¼í‹°1, í”„ë¡œí¼í‹°2&hellip;)ë°©ì‹ìœ¼ë¡œ í”„ë¡œí¼í‹°ì— ê°’ì„ ì£¼ì…  í•„ë“œ ì§ì ‘ ì ‘ê·¼
@Test public void findDtoByField() { List&lt;MemberDto&gt; result = queryFactory .select(Projections.fields(MemberDto.class, member.username, member.age)) .from(member) .fetch(); for (MemberDto memberDto : result) { System.out.println(&#34;memberDto = &#34; + memberDto); } }  Getter, Setterê°€ ì—†ì–´ë„ í•„ë“œì— ë°”ë¡œ ê°’ì„ ì£¼ì… Projections.fields(ì£¼ì…ëŒ€ìƒí´ë˜ìŠ¤, í•„ë“œ1, í•„ë“œ2&hellip;)  í•„ë“œ ì§ì ‘ ì ‘ê·¼ - ë³„ì¹­ì´ ë‹¤ë¥¼ ë•Œ
@Test public void findUserDtoByField() throws Exception { QMember memberSub = new QMember(&#34;memberSub&#34;); List&lt;UserDto&gt; result = queryFactory .select(Projections.fields(UserDto.class, member.username.as(&#34;name&#34;), ExpressionUtils.as(JPAExpressions .select(memberSub.age.max()) .from(memberSub), &#34;age&#34;) )) .from(member) .fetch(); for (UserDto memberDto : result) { System.out.println(&#34;memberDto = &#34; + memberDto); } }  í•„ë“œë‚˜ í”„ë¡œí¼í‹°ëª… ì ‘ê·¼ ìƒì„±ë°©ì‹ì—ì„œ ì´ë¦„ì´ ë‹¤ë¥¼ ë•Œ í•´ê²°ë°©ì•ˆì„ as(name)ì„ ì´ìš©í•´ì„œ í•´ê²°í•œë‹¤. ExpressionUtils.as(source,alias) : í•„ë“œë‚˜ ì„œë¸Œ ì¿¼ë¦¬ì— ë³„ì¹­ ì ìš© username.as(&quot;memberName&quot;) : í•„ë“œì— ë³„ì¹­ ì ìš©  ìƒì„±ì ì ìš©
@Test public void findDtoByConstructor() { List&lt;MemberDto&gt; result = queryFactory .select(Projections.constructor(MemberDto.class, member.username, member.age)) .from(member) .fetch(); for (MemberDto memberDto : result) { System.out.println(&#34;memberDto = &#34; + memberDto); } } 
í”„ë¡œì ì…˜ê³¼ ê²°ê³¼ ë°˜í™˜ - @QueryProjection í”„ë¡œì ì…˜ê²°ê³¼ë¥¼ ë°˜í™˜í•  DTOì— @QueryProjection ì„ ìƒì„±ìì— ë¶™í˜€ì¤€ ë’¤ gradle â†’ tasks â†’ other â†’ compileQuerydsl ì„ í†µí•´ DTOë„ Qíƒ€ì…ìœ¼ë¡œ ìƒì„±í•´ ì¤€ë‹¤.
ìƒì„±ì + @QueryProjection @Data @NoArgsConstructor public class MemberDto { private String username; private int age; @QueryProjection public MemberDto(String username, int age) { this.username = username; this.age = age; } }  ./gradlew compileQuerydsl QMemberDto ìƒì„± í™•ì¸  @QueryProjection í™œìš© @Test public void findDtoByQueryProjection() throws Exception{ List&lt;MemberDto&gt; result = queryFactory .</div><div class="post-footer">
        <a href="/posts/querydsl-intermediate-grammer/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/querydsl/">QueryDSL</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/querydsl-basic-grammer/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/JPA/querydsl.png"
        data-srcset="/images/JPA/querydsl.png, /images/JPA/querydsl.png 1.5x, /images/JPA/querydsl.png 2x"
        data-sizes="auto"
        alt="/images/JPA/querydsl.png"
        title="/images/JPA/querydsl.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/querydsl-basic-grammer/">QueryDSL ê¸°ë³¸ ë¬¸ë²•</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jaeyeon</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-12-31">2021-12-31</time></span>&nbsp;<span class="post-category">included in <a href="/categories/querydsl/"><i class="far fa-folder fa-fw"></i>QueryDSL</a></span></div><div class="content">JPQL VS QueryDSL QueryDSL vs JPQL @Test public void startJQPL() { // member1ì„ ì°¾ì•„ë¼  String qlString = &#34;select m from Member m &#34; + &#34;where m.username = :username&#34;; Member findMember = em.createQuery(qlString, Member.class) .setParameter(&#34;username&#34;, &#34;member1&#34;) .getSingleResult(); assertThat(findMember.getUsername()).isEqualTo(&#34;member1&#34;); } @Test public void startQuerydsl() { // member1ì„ ì°¾ì•„ë¼.  JPAQueryFactory queryFactory = new JPAQueryFactory(em); QMember m = new QMember(&#34;m&#34;); Member findMember = queryFactory .select(m) .from(m) .where(m.username.eq(&#34;member1&#34;)) // íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì²˜ë¦¬  .fetchOne(); assertThat(findMember.getUsername()).isEqualTo(&#34;member1&#34;); }  EntityManager ë¡œ JPAQueryFactory ìƒì„± Querydslì€ JPQL ë¹Œë” JPQL : ë¬¸ì(ì‹¤í–‰ ì‹œì  ì˜¤ë¥˜), Querydsl : ì½”ë“œ(ì»´íŒŒì¼ ì‹œì  ì˜¤ë¥˜) JPQL : íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì§ì ‘, Querydsl : íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ìë™ ì²˜ë¦¬  JPAQueryFactoryë¥¼ í•„ë“œë¡œ @SpringBootTest @Transactional public class QuerydslBasicTest { @Autowired EntityManager em; JPAQueryFactory queryFactory; @BeforeEach public void before() { queryFactory = new JPAQueryFactory(em); // ... 	} @Test public void startQuerydsl() { // member1ì„ ì°¾ì•„ë¼.  QMember m = new QMember(&#34;m&#34;); Member findMember = queryFactory .select(m) .from(m) .where(m.username.eq(&#34;member1&#34;)) // íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì²˜ë¦¬  .fetchOne(); assertThat(findMember.getUsername()).isEqualTo(&#34;member1&#34;); } }  JPAQueryFactoryë¥¼ í•„ë“œë¡œ ì œê³µí•˜ë©´ ë™ì‹œì„± ë¬¸ì œëŠ” ì–´ë–»ê²Œ ë ê¹Œ? ë™ì‹œì„± ë¬¸ì œëŠ” JPAQueryFactoryë¥¼ ìƒì„±í•  ë•Œ ì œê³µí•˜ëŠ” EntityManager(em)ì— ë‹¬ë ¤ìˆë‹¤. ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” ì—¬ëŸ¬ ì“°ë ˆë“œì—ì„œ ë™ì‹œì— ê°™ì€ EntityManagerì— ì ‘ê·¼í•´ë„, íŠ¸ëœì­ì…˜ ë§ˆë‹¤ ë³„ë„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì—, ë™ì‹œì„± ë¬¸ì œëŠ” ê±±ì •í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.  ê¸°ë³¸ Q-Type í™œìš© Qí´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” 2ê°€ì§€ ë°©ë²• QMember qMember = new QMember(&#34;m&#34;); //ë³„ì¹­ ì§ì ‘ ì§€ì • QMember qMember = QMember.member; //ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš© 
ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ static importì™€ í•¨ê»˜ ì‚¬ìš© @Test public void startQuerydsl() { Member findMember = queryFactory .select(QMember.member) .from(QMember.member) .where(QMember.member.username.eq(&#34;member1&#34;)) // íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì²˜ë¦¬  .fetchOne(); assertThat(findMember.getUsername()).isEqualTo(&#34;member1&#34;); } 
ë‹¤ìŒ ì„¤ì •ì„ ì¶”ê°€í•˜ë©´ ì‹¤í–‰ë˜ëŠ” JPQLì„ ë³¼ ìˆ˜ ìˆë‹¤.
spring.jpa.properties.hibernate.use_sql_comments: true 
ì°¸ê³ : ê°™ì€ í…Œì´ë¸”ì„ ì¡°ì¸í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ì•„ë‹ˆë©´ ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì
ê²€ìƒ‰ ì¡°ê±´ ì¿¼ë¦¬ ê¸°ë³¸ ê²€ìƒ‰ ì¿¼ë¦¬ @Test public void search() { Member findMember = queryFactory .selectFrom(member) .where(member.username.eq(&#34;member1&#34;) .and(member.age.eq(10))) .fetchOne(); assertThat(findMember.getUsername()).isEqualTo(&#34;member1&#34;); }  ê²€ìƒ‰ ì¡°ê±´ì€ .and() , .or() ë¥¼ ë©”ì„œë“œ ì²´ì¸ìœ¼ë¡œ ì—°ê²°í•  ìˆ˜ ìˆë‹¤. select ì™€ from ì€ selectFrom ìœ¼ë¡œ í•©ì¹  ìˆ˜ ìˆë‹¤.  JPQLì´ ì œê³µí•˜ëŠ” ëª¨ë“  ê²€ìƒ‰ ì¡°ê±´ ì œê³µ member.username.eq(&#34;member1&#34;) // username = &#39;member1&#39; member.username.ne(&#34;member1&#34;) //username != &#39;member1&#39; member.username.eq(&#34;member1&#34;).not() // username != &#39;member1&#39;  member.username.isNotNull() //ì´ë¦„ì´ is not null  member.age.in(10, 20) // age in (10,20) member.age.notIn(10, 20) // age not in (10, 20) member.age.between(10,30) // between 10, 30  member.age.goe(30) // age &gt;= 30 member.age.gt(30) // age &gt; 30 member.age.loe(30) // age &lt;= 30 member.age.lt(30) // age &lt; 30  member.username.like(&#34;member%&#34;) // like ê²€ìƒ‰ member.username.contains(&#34;member&#34;) // like â€˜%member%â€™ ê²€ìƒ‰ member.username.startsWith(&#34;member&#34;) // like â€˜member%â€™ ê²€ìƒ‰ 
AND ì¡°ê±´ì„ íŒŒë¼ë¯¸í„°ë¡œ ì²˜ë¦¬ @Test public void searchAndParam() { Member findMember = queryFactory .selectFrom(member) .where( member.username.eq(&#34;member1&#34;), member.age.eq(10)) .fetchOne(); assertThat(findMember.getUsername()).isEqualTo(&#34;member1&#34;); }  where() ì— íŒŒë¼ë¯¸í„°ë¡œ ì¡°ê±´ê²€ìƒ‰ì„ ì¶”ê°€í•˜ë©´ AND ì¡°ê±´ì´ ì¶”ê°€ë¨ ì´ ê²½ìš° null ê°’ì€ ë¬´ì‹œ â†’ ë©”ì„œë“œ ì¶”ì¶œì„ í™œìš©í•´ì„œ ë™ì  ì¿¼ë¦¬ë¥¼ ê¹”ë”í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŒ â†’ ë’¤ì—ì„œ ì„¤ëª…  ê²°ê³¼ ì¡°íšŒ  fetch() : ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ, ë°ì´í„° ì—†ìœ¼ë©´ ë¹ˆ ë¦¬ìŠ¤íŠ¸ ë°˜í™˜ fetchOne() : ë‹¨ ê±´ ì¡°íšŒ  ê²°ê³¼ê°€ ì—†ìœ¼ë©´ : null ê²°ê³¼ê°€ ë‘˜ ì´ìƒì´ë©´ : com.querydsl.core.NonUniqueResultException   fetchFirst() : limit(1).fetchOne() fetchResults() : í˜ì´ì§• ì •ë³´ í¬í•¨, total count ì¿¼ë¦¬ ì¶”ê°€ ì‹¤í–‰ fetchCount() : count ì¿¼ë¦¬ë¡œ ë³€ê²½í•´ì„œ count ìˆ˜ ì¡°íšŒ  // List List&lt;Member&gt; fetch = queryFactory .selectFrom(member) .</div><div class="post-footer">
        <a href="/posts/querydsl-basic-grammer/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/querydsl/">QueryDSL</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/spring-data-jpa-extension/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/JPA/spring-data-jpa.png"
        data-srcset="/images/JPA/spring-data-jpa.png, /images/JPA/spring-data-jpa.png 1.5x, /images/JPA/spring-data-jpa.png 2x"
        data-sizes="auto"
        alt="/images/JPA/spring-data-jpa.png"
        title="/images/JPA/spring-data-jpa.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/spring-data-jpa-extension/">í™•ì¥ ê¸°ëŠ¥</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jaeyeon</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-12-31">2021-12-31</time></span>&nbsp;<span class="post-category">included in <a href="/categories/spring-data-jpa/"><i class="far fa-folder fa-fw"></i>Spring Data JPA</a></span></div><div class="content">1. ì‚¬ìš©ì ì •ì˜ ë¦¬í¬ì§€í† ë¦¬ êµ¬í˜„ ì‚¬ìš©ì ì •ì˜ ë¦¬í¬ì§€í† ë¦¬ êµ¬í˜„  ìŠ¤í”„ë§ ë°ì´í„° JPA ë¦¬í¬ì§€í† ë¦¬ëŠ” ì¸í„°í˜ì´ìŠ¤ë§Œ ì •ì˜í•˜ê³  êµ¬í˜„ì²´ëŠ” ìŠ¤í”„ë§ì´ ìë™ ìƒì„± ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ë¥¼ ì§ì ‘ êµ¬í˜„í•˜ë©´ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ê¸°ëŠ¥ì´ ë„ˆë¬´ ë§ìŒ ë‹¤ì–‘í•œ ì´ìœ ë¡œ ì¸í„°í˜ì´ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì§ì ‘ êµ¬í˜„í•˜ê³  ì‹¶ë‹¤ë©´?  JPA ì§ì ‘ ì‚¬ìš©(EntityManager) ìŠ¤í”„ë§ JDBC Template ì‚¬ìš© MyBatis ì‚¬ìš© ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ ì§ì ‘ ì‚¬ìš© ë“±ë“±.. QueryDSL ì‚¬ìš©    ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤
public interface MemberRepositoryCustom { List&lt;Member&gt; findMemberCustom(); } 
ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ í´ë˜ìŠ¤
@RequiredArgsConstructor public class MemberRepositoryImpl implements MemberRepositoryCustom { private final EntityManager em; @Override public List&lt;Member&gt; findMemberCustom() { return em.createQuery(&#34;select m from Member m&#34;) .getResultList(); } } 
ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤ ìƒì†
public interface MemberRepository extends JpaRepository&lt;Member, Long&gt;, MemberRepositoryCustom { } 
ì‚¬ìš©ì ì •ì˜ ë©”ì„œë“œ í˜¸ì¶œ ì½”ë“œ
List&lt;Member&gt; result = memberRepository.findMemberCustom(); 
ì‚¬ìš©ì ì •ì˜ êµ¬í˜„ í´ë˜ìŠ¤
 ê·œì¹™ : ë¦¬í¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ + Impl ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì¸ì‹í•´ì„œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡  Impl ëŒ€ì‹œ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ë³€ê²½í•˜ê³  ì‹¶ìœ¼ë©´?
XML ì„¤ì •
&lt;repositories base-package=&#34;study.datajpa.repository&#34; repository-impl-postfix=&#34;Impl&#34; /&gt; 
JavaConfig ì„¤ì •
@EnableJpaRepositories(basePackages = &#34;study.datajpa.repository&#34;, repositoryImplementationPostfix = &#34;Impl&#34;) 
ì°¸ê³  ì‹¤ë¬´ì—ì„œëŠ” ì£¼ë¡œ QueryDSLì´ë‚˜ SpringJdbcTemplateì„ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©ì ì •ì˜ ë¦¬í¬ì§€í† ë¦¬ ê¸°ëŠ¥ ìì£¼ ì‚¬ìš© í•­ìƒ ì‚¬ìš©ì ì •ì˜ ë¦¬í¬ì§€í† ë¦¬ê°€ í•„ìš”í•œ ê²ƒì€ ì•„ë‹ˆë‹¤. ê·¸ëƒ¥ ì„ì˜ì˜ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ë§Œë“¤ì–´ë„ ëœë‹¤.
ì˜ˆë¥¼ë“¤ì–´ MemberQueryRepositoryë¥¼ ì¸í„°í˜ì´ìŠ¤ê°€ ì•„ë‹Œ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ê³  ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ì„œ ê·¸ëƒ¥ ì§ì ‘ ì‚¬ìš©í•´ë„ ëœë‹¤. ë¬¼ë¡  ì´ ê²½ìš° ìŠ¤í”„ë§ ë°ì´í„° JPAì™€ëŠ” ì•„ë¬´ëŸ° ê´€ê³„ ì—†ì´ ë³„ë„ë¡œ ë™ì‘í•œë‹¤.
ì‚¬ìš©ì ì •ì˜ ë¦¬í¬ì§€í† ë¦¬ êµ¬í˜„ ìµœì‹  ë°©ì‹ ìŠ¤í”„ë§ ë°ì´í„° 2.x ë¶€í„°ëŠ” ì‚¬ìš©ì ì •ì˜ êµ¬í˜„ í´ë˜ìŠ¤ì— ë¦¬í¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ + Impl ì„ ì ìš©í•˜ëŠ” ëŒ€ì‹ ì— ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤ ëª… + Impl ë°©ì‹ë„ ì§€ì›í•œë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ ìœ„ ì˜ˆì œì˜ MemberRepositoryImpl ëŒ€ì‹ ì— MemberRepositoryCustomImpl ê°™ì´ êµ¬í˜„í•´ë„ ëœë‹¤.
ìµœì‹  ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ í´ë˜ìŠ¤ ì˜ˆì œ
@RequiredArgsConstructor public class MemberRepositoryCustomImpl implements MemberRepositoryCustom { private final EntityManager em; @Override public List&lt;Member&gt; findMemberCustom() { return em.createQuery(&#34;select m from Member m&#34;) .getResultList(); } } ê¸°ì¡´ ë°©ì‹ë³´ë‹¤ ì´ ë°©ì‹ì´ ì‚¬ìš©ì ì •ì˜ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ê³¼ êµ¬í˜„ í´ë˜ìŠ¤ ì´ë¦„ì´ ë¹„ìŠ·í•˜ë¯€ë¡œ ë” ì§ê´€ì ì´ë‹¤. ì¶”ê°€ë¡œ ì—¬ëŸ¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¶„ë¦¬í•´ì„œ êµ¬í˜„í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ìƒˆë¡­ê²Œ ë³€ê²½ëœ ì´ ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë” ê¶Œì¥í•œë‹¤.
2. Auditing  ì—”í‹°í‹°ë¥¼ ìƒì„±, ë³€ê²½í•  ë•Œ ë³€ê²½í•œ ì‚¬ëŒê³¼ ì‹œê°„ì„ ì¶”ì í•˜ê³  ì‹¶ìœ¼ë©´?  ë“±ë¡ì¼ ìˆ˜ì •ì¼ ë“±ë¡ì ìˆ˜ì •ì    ìˆœìˆ˜ JPA ì‚¬ìš© ìš°ì„  ë“±ë¡ì¼, ìˆ˜ì •ì¼ ì ìš©
@Getter @MappedSuperclass public class JpaBaseEntity { @Column(updatable = false) private LocalDateTime createdDate; private LocalDateTime updatedDate; @PrePersist public void prePersist() { LocalDateTime now = LocalDateTime.now(); createdDate = now; updatedDate = now; } @PreUpdate public void preUpdate() { updatedDate = LocalDateTime.now(); } } JPA ì£¼ìš” ì´ë²¤íŠ¸ ì–´ë…¸í…Œì´ì…˜
 @PrePersist, @PostPersist @PreUpdate, @PostUpdate  ìŠ¤í”„ë§ ë°ì´í„° JPA ì‚¬ìš© ì„¤ì •
@EnableJpaAuditing â†’ ìŠ¤í”„ë§ ë¶€íŠ¸ ì„¤ì • í´ë˜ìŠ¤ì— ì ìš©í•´ì•¼í•¨
@EntityListeners(AuditingEntityListener.class) â†’ ì—”í‹°í‹°ì— ì ìš©
ì‚¬ìš© ì–´ë…¸í…Œì´ì…˜
 @CreatedDate @LastModifiedDate @CreatedBy @LastModifiedBy  ìŠ¤í”„ë§ ë°ì´í„° Auditing ì ìš© - ë“±ë¡ì¼, ìˆ˜ì •ì¼
@EntityListeners(AuditingEntityListener.class) @MappedSuperclass @Getter public class BaseEntity { @CreatedBy @Column(updatable = false) private String createdBy; @LastModifiedBy private String lastModifiedBy; } 
ìŠ¤í”„ë§ ë°ì´í„° Auditing ì ìš© - ë“±ë¡ì, ìˆ˜ì •ì
@EntityListeners(AuditingEntityListener.class) @MappedSuperclass @Getter public class BaseTimeEntity { @CreatedDate @Column(updatable = false) private LocalDateTime createdDate; @LastModifiedDate private LocalDateTime lastModifiedDate; } 
ë“±ë¡ì, ìˆ˜ì •ìë¥¼ ì²˜ë¦¬í•´ì£¼ëŠ” AuditorAware ìŠ¤í”„ë§ ë¹ˆ ë“±ë¡
@Bean public AuditorAware&lt;String&gt; auditorProvider() { return () -&gt; Optional.of(UUID.randomUUID().toString()); } ì‹¤ë¬´ì—ì„œëŠ” ì„¸ì…˜ ì •ë³´ë‚˜, ìŠ¤í”„ë§ ì‹œíë¦¬í‹° ë¡œê·¸ì¸ ì •ë³´ì—ì„œ IDë¥¼ ë°›ìŒ</div><div class="post-footer">
        <a href="/posts/spring-data-jpa-extension/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/spring-data-jpa/">Spring Data JPA</a>,&nbsp;<a href="/tags/hibernate/">Hibernate</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/spring-data-jpa-query-method/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/JPA/spring-data-jpa.png"
        data-srcset="/images/JPA/spring-data-jpa.png, /images/JPA/spring-data-jpa.png 1.5x, /images/JPA/spring-data-jpa.png 2x"
        data-sizes="auto"
        alt="/images/JPA/spring-data-jpa.png"
        title="/images/JPA/spring-data-jpa.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/spring-data-jpa-query-method/">ì¿¼ë¦¬ ë©”ì†Œë“œ</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jaeyeon</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-12-31">2021-12-31</time></span>&nbsp;<span class="post-category">included in <a href="/categories/spring-data-jpa/"><i class="far fa-folder fa-fw"></i>Spring Data JPA</a></span></div><div class="content">1. ì¿¼ë¦¬ ë©”ì†Œë“œ ê¸°ëŠ¥  ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„± NamedQuery @Query - ë¦¬íŒŒì§€í† ë¦¬ ë©”ì†Œë“œì— ì¿¼ë¦¬ ì •ì˜ íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ë°˜í™˜ íƒ€ì… í˜ì´ì§•ê³¼ ì •ë ¬ ë²Œí¬ì„± ìˆ˜ì • ì¿¼ë¦¬ @EntityGraph  ì¿¼ë¦¬ ë©”ì†Œë“œ ê¸°ëŠ¥ 3ê°€ì§€
 ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„± ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ JPA namedQuery í˜¸ì¶œ @Query ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ë¦¬í¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ì— ì¿¼ë¦¬ ì§ì ‘ ì •ì˜  ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„± ë©”ì†Œë“œ ì´ë¦„ì„ ë¶„ì„í•´ì„œ JPQL ì¿¼ë¦¬ ì‹¤í–‰
ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ íšŒì›ì„ ì¡°íšŒí•˜ë ¤ë©´?
ìˆœìˆ˜ JPA ë¦¬í¬ì§€í† ë¦¬
public List&lt;Member&gt; findByUsernameAndAgeGreaterThen(String username, int age) { return em.createQuery(&#34;select m from Member m where m.username = :username and m.age &gt; :age&#34;) .setParameter(&#34;username&#34;, username) .setParameter(&#34;age&#34;, age) .getResultList(); } 
ìˆœìˆ˜ JPA í…ŒìŠ¤íŠ¸ ì½”ë“œ
@Test public void findByUsernameAndAgeGreaterThen() { Member m1 = new Member(&#34;AAA&#34;, 10); Member m2 = new Member(&#34;AAA&#34;, 20); memberJpaRepository.save(m1); memberJpaRepository.save(m2); List&lt;Member&gt; result = memberJpaRepository.findByUsernameAndAgeGreaterThen(&#34;AAA&#34;, 15); assertThat(result.get(0).getUsername()).isEqualTo(&#34;AAA&#34;); assertThat(result.get(0).getAge()).isEqualTo(20); assertThat(result.size()).isEqualTo(1); } 
ìŠ¤í”„ë§ ë°ì´í„° JPA
public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; { List&lt;Member&gt; findByUsernameAndAgeGreaterThan(String username, int age); }  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” ë©”ì†Œë“œ ì´ë¦„ì„ ë¶„ì„í•´ì„œ JPQLì„ ìƒì„±í•˜ê³  ì‹¤í–‰  ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì œê³µí•˜ëŠ” ì¿¼ë¦¬ ë©”ì†Œë“œ ê¸°ëŠ¥
 ì¡°íšŒ: findâ€¦By ,readâ€¦By ,queryâ€¦By getâ€¦By,  https://docs.spring.io/spring-data/jpa/docs/current/reference/html/ #repositories.query-methods.query-creation ì˜ˆ:) findHelloBy ì²˜ëŸ¼ &hellip;ì— ì‹ë³„í•˜ê¸° ìœ„í•œ ë‚´ìš©(ì„¤ëª…)ì´ ë“¤ì–´ê°€ë„ ëœë‹¤.   COUNT: countâ€¦By ë°˜í™˜íƒ€ì… long EXISTS: existsâ€¦By ë°˜í™˜íƒ€ì… boolean ì‚­ì œ: deleteâ€¦By, removeâ€¦By ë°˜í™˜íƒ€ì… long DISTINCT: findDistinct, findMemberDistinctBy LIMIT: findFirst3, findFirst, findTop, findTop3  https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.limit-query-result    ì°¸ê³  ì´ ê¸°ëŠ¥ì€ ì—”í‹°í‹°ì˜ í•„ë“œëª…ì´ ë³€ê²½ë˜ë©´ ì¸í„°í˜ì´ìŠ¤ì— ì •ì˜í•œ ë©”ì„œë“œ ì´ë¦„ë„ ê¼­ í•¨ê»˜ ë³€ê²½í•´ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹œì‘í•˜ëŠ” ì‹œì ì— ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ì´ë ‡ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë”© ì‹œì ì— ì˜¤ë¥˜ë¥¼ ì¸ì§€í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ìŠ¤í”„ë§ ë°ì´í„° JPAì˜ ë§¤ìš° í° ì¥ì ì´ë‹¤.
2. JPA NamedQuery JPAì˜ NamedQueryë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŒ
@NamedQuery ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ Named ì¿¼ë¦¬ ì •ì˜
@Entity @NamedQuery( name = &#34;Member.findByUsername&#34;, query = &#34;select m from Member m where m.username = :username&#34; ) public class Member { ... } 
JPAë¥¼ ì§ì ‘ ì‚¬ìš©í•´ì„œ Named ì¿¼ë¦¬ í˜¸ì¶œ
public class MemberRepository { public List&lt;Member&gt; findByUsername(String username) { ... return em.createNamedQuery(&#34;Member.findByUsername&#34;, Member.class) .setParameter(&#34;username&#34;, username) .getResultList(); } } 
ìŠ¤í”„ë§ ë°ì´í„° JPAë¡œ NamedQuery ì‚¬ìš©
@Query(name = &#34;Member.findByUsername&#34;) List&lt;Member&gt; findByUsername(@Param(&#34;username&#34;) String username); @Query ë¥¼ ìƒëµí•˜ê³  ë©”ì„œë“œ ì´ë¦„ë§Œìœ¼ë¡œ Named ì¿¼ë¦¬ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
ìŠ¤í”„ë§ ë°ì´í„° JPAë¡œ Named ì¿¼ë¦¬ í˜¸ì¶œ
public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; { // ** ì—¬ê¸° ì„ ì–¸í•œ Member ë„ë©”ì¸ í´ë˜ìŠ¤  List&lt;Member&gt; findByUsername(@Param(&#34;username&#34;) String username); }  ìŠ¤í”„ë§ ë°ì´í„° JPAëŠ” ì„ ì–¸í•œ &ldquo;ë„ë©”ì¸ í´ë˜ìŠ¤ + .(ì ) + ë©”ì„œë“œ ì´ë¦„&rdquo; ìœ¼ë¡œ Named ì¿¼ë¦¬ë¥¼ ì°¾ì•„ì„œ ì‹¤í–‰ ë§Œì•½ ì‹¤í–‰í•  Named ì¿¼ë¦¬ê°€ ì—†ìœ¼ë©´ ë©”ì„œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„± ì „ëµì„ ì‚¬ìš©í•œë‹¤. í•„ìš”í•˜ë©´ ì „ëµì„ ë³€ê²½í•  ìˆ˜ ìˆì§€ë§Œ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.  ì°¸ê³  : https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-lookup-strategies    ì°¸ê³  ìŠ¤í”„ë§ ë°ì´í„° JPAë¥¼ ì‚¬ìš©í•˜ë©´ ì‹¤ë¬´ì—ì„œ Named Queryë¥¼ ì§ì ‘ ë“±ë¡í•´ì„œ ì‚¬ìš©í•˜ëŠ” ì¼ì€ ë“œë¬¼ë‹¤. ëŒ€ì‹  @Query ë¥¼ ì‚¬ìš©í•´ì„œ ë¦¬í¬ì§€í† ë¦¬ ë©”ì†Œë“œì— ì¿¼ë¦¬ë¥¼ ì§ì ‘ ì •ì˜í•œë‹¤.
3. @Query, ë¦¬í¬ì§€í† ë¦¬ ë©”ì†Œë“œì— ì¿¼ë¦¬ ì •ì˜í•˜ê¸° ë©”ì„œë“œ JPQL ì¿¼ë¦¬ ì‘ì„± public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; { @Query(&#34;select m from Member m where m.username = :username and m.age = :age&#34;) List&lt;Member&gt; findUser(@Param(&#34;username&#34;) String username, @Param(&#34;age&#34;) int age); }  @org.springframework.data.jpa.repository.Query ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš© ì‹¤í–‰í•  ë©”ì„œë“œì— ì •ì  ì¿¼ë¦¬ë¥¼ ì§ì ‘ ì‘ì„±í•˜ë¯€ë¡œ ì´ë¦„ ì—†ëŠ” Named ì¿¼ë¦¬ë¼ í•  ìˆ˜ ìˆìŒ JPA Named ì¿¼ë¦¬ì²˜ëŸ¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì‹œì ì— ë¬¸ë²• ì˜¤ë¥˜ë¥¼ ë°œê²¬í•  ìˆ˜ ìˆìŒ (ë§¤ìš° í° ì¥ì !)  ì°¸ê³  ì‹¤ë¬´ì—ì„œëŠ” ë©”ì†Œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„± ê¸°ëŠ¥ì€ íŒŒë¼ë¯¸í„°ê°€ ì¦ê°€í•˜ë©´ ë©”ì„œë“œ ì´ë¦„ì´ ë§¤ìš° ì§€ì €ë¶„í•´ì§„ë‹¤.</div><div class="post-footer">
        <a href="/posts/spring-data-jpa-query-method/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/spring-data-jpa/">Spring Data JPA</a>,&nbsp;<a href="/tags/hibernate/">Hibernate</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/spring-data-jpa-common-interface/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/JPA/spring-data-jpa.png"
        data-srcset="/images/JPA/spring-data-jpa.png, /images/JPA/spring-data-jpa.png 1.5x, /images/JPA/spring-data-jpa.png 2x"
        data-sizes="auto"
        alt="/images/JPA/spring-data-jpa.png"
        title="/images/JPA/spring-data-jpa.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/spring-data-jpa-common-interface/">ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ê¸°ëŠ¥</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jaeyeon</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-12-31">2021-12-31</time></span>&nbsp;<span class="post-category">included in <a href="/categories/spring-data-jpa/"><i class="far fa-folder fa-fw"></i>Spring Data JPA</a></span></div><div class="content">1. ìˆœìˆ˜ JPAê¸°ë°˜ ë¦¬í¬ì§€í† ë¦¬ ë§Œë“¤ê¸°  ê¸°ë³¸ CRUD  ì €ì¥ ë³€ê²½ â†’ ë³€ê²½ê°ì§€ ì‚¬ìš© ì‚­ì œ ì „ì²´ ì¡°íšŒ ë‹¨ê±´ ì¡°íšŒ ì¹´ìš´íŠ¸     ì°¸ê³ : JPAì—ì„œ ìˆ˜ì •ì€ ë³€ê²½ê°ì§€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•œ ë‹¤ìŒì— ë°ì´í„°ë¥¼ ë³€ê²½í•˜ë©´, íŠ¸ëœì­ì…˜ ì¢…ë£Œ ì‹œì ì— ë³€ê²½ê°ì§€ ê¸°ëŠ¥ì´ ì‘ë™í•´ì„œ ë³€ê²½ëœ ì—”í‹°í‹°ë¥¼ ê°ì§€í•˜ê³  UPDATE SQLì„ ì‹¤í–‰í•œë‹¤.
 ìˆœìˆ˜ JPA ê¸°ë°˜ ë¦¬í¬ì§€í† ë¦¬
@Repository public class MemberJpaRepository { @PersistenceContext private EntityManager em; // Create (ì €ì¥)  public Member save(Member member) { em.persist(member); return member; } // Delete (ì‚­ì œ)  public void delete(Member member) { em.remove(member); } // Read (ì¡°íšŒ)  public List&lt;Member&gt; findAll() { // JPQL  return em.createQuery(&#34;select m from Member m&#34;, Member.class) .getResultList(); } public Optional&lt;Member&gt; findById(Long id) { Member member = em.find(Member.class, id); return Optional.ofNullable(member); } public long count() { return em.createQuery(&#34;select count(m) from Member m&#34;, Long.class) .getSingleResult(); } public Member find(Long id) { return em.find(Member.class, id); } }  íšŒì› ë¦¬í¬ì§€í† ë¦¬ì™€ ê±°ì˜ ë™ì¼í•˜ë‹¤.  2. ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ì„¤ì • javaConfig ì„¤ì • - ìŠ¤í”„ë§ ë¶€íŠ¸ ì‚¬ìš©ì‹œ ìƒëµ ê°€ëŠ¥ @Configuration @EnableJpaRepositories(basePackages = &#34;jpabook.jpashop.repository&#34;) public class AppConfig {}  ìŠ¤í”„ë§ ë¶€íŠ¸ ì‚¬ìš©ì‹œ @SpringBootApplication ìœ„ì¹˜ë¥¼ ì§€ì •(í•´ë‹¹ íŒ¨í‚¤ì§€ì™€ í•˜ìœ„ íŒ¨í‚¤ì§€ ì¸ì‹) ë§Œì•½ ìœ„ì¹˜ê°€ ë‹¬ë¼ì§€ë©´ @EnableJpaRepositories í•„ìš”  ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ êµ¬í˜„ í´ë˜ìŠ¤ ëŒ€ì‹  ìƒì„±  org.springframework.data.repository.Repository ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ëŠ” ìŠ¤ìº” ëŒ€ìƒ  MemberRepository ì¸í„°í˜ì´ìŠ¤ê°€ ë™ì‘í•œ ì´ìœ  ì‹¤ì œ ì¶œë ¥í•´ë³´ê¸°(Proxy) memberRepository.getClass() â†’ class com.sun.proxy.$ProxyXXX   @Repository ì• ë…¸í…Œì´ì…˜ ìƒëµ ê°€ëŠ¥  ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬ JPA ì˜ˆì™¸ë¥¼ ìŠ¤í”„ë§ ì˜ˆì™¸ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ë„ ìë™ìœ¼ë¡œ ì²˜ë¦¬    3. ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ì ìš© ìˆœìˆ˜ JPAë¡œ êµ¬í˜„í•œ MemberJpaRepository ëŒ€ì‹ ì— ìŠ¤í”„ë§ ë°ì´í„° JPAê°€ ì œê³µí•˜ëŠ” ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©
ìŠ¤í”„ë§ ë°ì´í„° JPA ê¸°ë°˜ Repository public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; { }  Generic  T : ì—”í‹°í‹° íƒ€ì… ID : ì‹ë³„ì íƒ€ì…(PK)    4. ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ë¶„ì„  JpaRepository ì¸í„°í˜ì´ìŠ¤ : ê³µí†µ CURD ì œê³µ ì œë„¤ë¦­ì€ &lt;ì—”í‹°í‹° íƒ€ì…, ì‹ë³„ì íƒ€ì…&gt; ì„¤ì •  JpaRepository ê³µí†µ ê¸°ëŠ¥ ì¸í„°í˜ì´ìŠ¤
public interface JpaRepository&lt;T, ID extends Serializable&gt; extends PagingAndSortingRepository&lt;T, ID&gt; { ... } 
JpaRepository ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤
public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; { } 
ê³µí†µ ì¸í„°í˜ì´ìŠ¤ êµ¬ì„± ì£¼ì˜
 T findOne(ID) â†’ Optional&lt;T&gt; findById(ID) ë³€ê²½  ì œë„¤ë¦­ íƒ€ì…
 T : ì—”í‹°í‹° ID : ì—”í‹°í‹°ì˜ ì‹ë³„ì íƒ€ì… S : ì—”í‹°í‹°ì™€ ê·¸ ìì‹ íƒ€ì…  ì£¼ìš” ë©”ì„œë“œ
 save(S) : ìƒˆë¡œìš´ ì—”í‹°í‹°ëŠ” ì €ì¥í•˜ê³  ì´ë¯¸ ìˆëŠ” ì—”í‹°í‹°ëŠ” ë³‘í•©í•œë‹¤. delete(T) : ì—”í‹°í‹° í•˜ë‚˜ë¥´ ì‚­ì œí•œë‹¤. ë‚´ë¶€ì—ì„œ EntityManager.remove() í˜¸ì¶œ findById(ID) : ì—”í‹°í‹° í•˜ë‚˜ë¥¼ ì¡°íšŒí•œë‹¤. ë‚´ë¶€ì—ì„œ EntityManager.find() í˜¸ì¶œ getOne(ID) : ì—”í‹°í‹°ë¥¼ í”„ë¡ì‹œë¡œ ì¡°íšŒí•œë‹¤. ë‚´ë¶€ì—ì„œ EntityManager.getReference() í˜¸ì¶œ findAll(...) : ëª¨ë“  ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•œë‹¤. ì •ë ¬(Sort)ì´ë‚˜ í˜ì´ì§•(Pageable) ì¡°ê±´ì„ íŒŒë¼ë¯¸í„°ë¡œ ì œê³µí•  ìˆ˜ ìˆë‹¤.  ì°¸ê³ : JpaRepository ëŠ” ëŒ€ë¶€ë¶„ì˜ ê³µí†µ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.</div><div class="post-footer">
        <a href="/posts/spring-data-jpa-common-interface/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/spring-data-jpa/">Spring Data JPA</a>,&nbsp;<a href="/tags/hibernate/">Hibernate</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/jpa-object-query-language2/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/JPA/jpa.png"
        data-srcset="/images/JPA/jpa.png, /images/JPA/jpa.png 1.5x, /images/JPA/jpa.png 2x"
        data-sizes="auto"
        alt="/images/JPA/jpa.png"
        title="/images/JPA/jpa.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/jpa-object-query-language2/">ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ - ì¤‘ê¸‰ ë¬¸ë²•</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jaeyeon</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-12-30">2021-12-30</time></span>&nbsp;<span class="post-category">included in <a href="/categories/jpa/"><i class="far fa-folder fa-fw"></i>JPA</a></span></div><div class="content">1. ê²½ë¡œ í‘œí˜„ì‹  .(ì )ì„ ì°ì–´ ê°ì²´ ê·¸ë˜í”„ë¥¼ íƒìƒ‰í•˜ëŠ” ê²ƒ select m.username -&gt; ìƒíƒœ í•„ë“œ from Member m join m.team t -&gt; ë‹¨ì¼ ê°’ ì—°ê´€ í•„ë“œ join m.orders o -&gt; ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ í•„ë“œ where t.name = &#39;íŒ€A&#39; 
ê²½ë¡œ í‘œí˜„ì‹ ìš©ì–´ ì •ë¦¬
 ìƒíƒœ í•„ë“œ(state field): ë‹¨ìˆœíˆ ê°’ì„ ì €ì¥í•˜ê¸° ìœ„í•œ í•„ë“œ(ex: m.usernmae) ì—°ê´€ í•„ë“œ(association field): ì—°ê´€ê´€ê³„ë¥¼ ìœ„í•œ í•„ë“œ  ë‹¨ì¼ ê°’ ì—°ê´€ í•„ë“œ:  @ManyToOne, @OneToOne: ëŒ€ìƒì´ ì—”í‹°í‹°(ex: m.team)  ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ í•„ë“œ:  @OneToMany, @ManyToMany, ëŒ€ìƒì´ ì»¬ë ‰ì…˜(ex m.orders)   ê²½ë¡œ í‘œí˜„ì‹ íŠ¹ì§•
  ìƒíƒœ í•„ë“œ(state field): ê²½ë¡œ íƒìƒ‰ì˜ ë, íƒìƒ‰x
  ë‹¨ì¼ ê°’ ì—°ê´€ ê²½ë¡œ: ë¬µì‹œì  ë‚´ë¶€ ì¡°ì¸(inner join)ë°œìƒ, íƒìƒ‰O
select m.team.name from Member m; //teamì—ì„œ ê²½ë¡œíƒìƒ‰ì´ ë” ê°€ëŠ¥í•˜ë‹¤(name)   ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ ê²½ë¡œ: ë¬µì‹œì  ë‚´ë¶€ ì¡°ì¸ ë°œìƒ, íƒìƒ‰X
  FROM ì ˆì—ì„œ ëª…ì‹œì  ì¡°ì¸ì„ í†µí•´ ë³„ì¹­ì„ ì–»ìœ¼ë©´ ë³„ì¹­ì„ í†µí•´ íƒìƒ‰ ê°€ëŠ¥
select m.username from Team t join t.members m;     ì‹¤ë¬´ì—ì„œëŠ” ëª…ì‹œì  ì¡°ì¸ì„ ì‚¬ìš©í•˜ì.
ì¡°ì¸ì€ SQL íŠœë‹ì— ì¤‘ìš” í¬ì¸íŠ¸
ë¬µì‹œì  ì¡°ì¸ì€ ì¡°ì¸ì´ ì¼ì–´ë‚˜ëŠ” ìƒí™©ì„ í•œëˆˆì— íŒŒì•…í•˜ê¸° ì–´ë ¤ì›€
2. JPQL - í˜ì¹˜ ì¡°ì¸ (fetchjoin)   SQL ì¡°ì¸ ì¢…ë¥˜ëŠ” ì•„ë‹ˆê³  JPAì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤. JPQLì—ì„œ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥. ì—°ê´€ëœ ì—”í‹°í‹°ë‚˜ ì»¬ë ‰ì…˜ì„ SQL í•œ ë²ˆì— í•¨ê»˜ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ join fetch ëª…ë ¹ì–´ ì‚¬ìš© í˜ì¹˜ ì¡°ì¸ :: = [LEFT [OUTER] | INNER ] JOIN FETCH ì¡°ì¸ ê²½ë¡œ  ì—”í‹°í‹° í˜ì¹˜ ì¡°ì¸
  íšŒì›ì„ ì¡°íšŒí•˜ë©´ì„œ ì—°ê´€ëœ íŒ€ë„ í•¨ê»˜ ì¡°íšŒ(SQL í•œ ë²ˆì—)
//JPQL select m from Member m join fetch m.team //SQL select m.* t.* from Member m inner join Team t on m.team_id = t.id;     ë„ì‹í™”
íŒ€ì´ ìˆëŠ” íšŒì›ì„ ì¡°íšŒí•˜ê³  ì‹¶ì„ ë•Œ fetch joinì„ ì‚¬ìš©í•˜ë©´ ë‚´ë¶€ì ìœ¼ë¡œ inner joinì„ ì‚¬ìš©í•œë‹¤.
íŒ€ì´ ì—†ëŠ” íšŒì›ì€ ëˆ„ë½ëœë‹¤.
  í˜ì¹˜ ì¡°ì¸ ì‚¬ìš© ì½”ë“œ
  ê¸°ì¡´ ì—°ê´€ê´€ê³„ ì¡°íšŒ ë¡œì§ì˜ ë¬¸ì œ
String jpql = &#34;select m from Member m&#34;; List&lt;Member&gt; members = em.createQuery(jpql, Member.class) .getResultList(); for (Member member : members) { System.out.println(&#34;username = &#34; + member.getUsername() + &#34;, &#34; + &#34;teamName = &#34; + member.getTeam().name()); //íšŒì›1, íŒ€A(SQL) //íšŒì›2, íŒ€A(1ì°¨ ìºì‹œ) //íšŒì›3, íŒ€B(SQL)  //íšŒì› 100ëª… -&gt; N + 1 } ìµœì´ˆ jpqlì„ í†µí•´ Memberë¥¼ ì¡°íšŒí•´ ì˜¬ë•Œ Teamì˜ ì •ë³´ëŠ” Proxyê°ì²´ë¡œ ê°€ì§€ê³  ìˆë‹¤. (ì‹¤ì œë¡  ì—†ë‹¤ëŠ” ì˜ë¯¸) ê·¸ë ‡ê¸°ì— ì‹¤ì œë¡œ getTeam().getName()ì„ í†µí•´ íŒ€ì˜ ì •ë³´ë¥¼ ì¡°íšŒí•˜ë ¤ê³  í•  ë•Œ SQLì„ ìˆ˜í–‰í•œë‹¤. ì£¼ì„ ë‚´ìš©ëŒ€ë¡œ í•œë²ˆ ê°€ì ¸ì˜¨ Teamì˜ ì •ë³´ëŠ” 1ì°¨ ìºì‹œì— ì˜¬ë¼ê°€ ìˆê¸° ë•Œë¬¸ì— ë” ì¡°íšŒí•  í•„ìš”ëŠ” ì—†ì§€ë§Œ, íšŒì›ì„ Nëª… ì¡°íšŒí•˜ê²Œ ë˜ì—ˆì„ë•Œ ìµœëŒ€ N + 1 ë²ˆ Team ì¡°íšŒ ì¿¼ë¦¬ê°€ ìˆ˜í–‰ ë  ìˆ˜ ìˆë‹¤.
    í˜ì¹˜ ì¡°ì¸ì„ í†µí•œ í•´ê²°
String jpql = &#34;select m from Member m join fetch m.team&#34;; List&lt;Member&gt; members = em.createQuery(jpql, Member.class) .getResultList(); for (Member member : members) { //í˜ì¹˜ ì¡°ì¸ìœ¼ë¡œ íšŒì›ê³¼ íŒ€ì„ í•¨ê»˜ ì¡°íšŒí•´ì„œ ì§€ì—° ë¡œë”©X  System.out.println(&#34;username = &#34; + member.getUsername() + &#34;, &#34; + &#34;teamName = &#34; + member.getTeam().name()); } í˜ì¹˜ì¡°ì¸ì€ ì¡°íšŒ ë‹¹ì‹œì— ì‹¤ì œ ì—”í‹°í‹°ê°€ ë‹´ê¸´ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì§€ì—°ë¡œë”© ì—†ì´ ë°”ë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
  ì‹¤ë¬´ì—ì„œ ìì£¼ ì‚¬ìš©ëœë‹¤. ì»¬ë ‰ì…˜ í˜ì¹˜ ì¡°ì¸
 ì¼ëŒ€ë‹¤ ê´€ê³„, ì»¬ë ‰ì…˜ í˜ì¹˜ ì¡°ì¸  //JPQL select t from Team t join fetch t.members where t.name = &#39;íŒ€A&#39;; //SQL select t.*, m.* from team t, inner join member m on t.</div><div class="post-footer">
        <a href="/posts/jpa-object-query-language2/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/jpa/">JPA</a>,&nbsp;<a href="/tags/hibernate/">Hibernate</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/jpa-object-query-language1/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/JPA/jpa.png"
        data-srcset="/images/JPA/jpa.png, /images/JPA/jpa.png 1.5x, /images/JPA/jpa.png 2x"
        data-sizes="auto"
        alt="/images/JPA/jpa.png"
        title="/images/JPA/jpa.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/jpa-object-query-language1/">ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ - ê¸°ë³¸ ë¬¸ë²•</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jaeyeon</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-12-30">2021-12-30</time></span>&nbsp;<span class="post-category">included in <a href="/categories/jpa/"><i class="far fa-folder fa-fw"></i>JPA</a></span></div><div class="content">1. ì†Œê°œ  JPAëŠ” ë‹¤ì–‘í•œ ì¿¼ë¦¬ ë°©ë²•ì„ ì§€ì›
 JPQL JPA Criteria QueryDSL Native SQL JDBC API ì§ì ‘ ì‚¬ìš©, MyBatis, SpringJdbcTemplate í•¨ê»˜ ì‚¬ìš©  JPQL ì†Œê°œ
 ê°€ì¥ ë‹¨ìˆœí•œ ì¡°íšŒ ë°©ë²•  EntityManager.find() ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ (a.getB().getC())   ë‚˜ì´ê°€ 18ì‚´ ì´ìƒì¸ íšŒì›ì„ ëª¨ë‘ ê²€ìƒ‰í•˜ê³  ì‹¶ë‹¤ë©´?  JPQL - í•„ìš”ì„±
 JPAë¥¼ ì‚¬ìš©í•˜ë©´ ì—”í‹°í‹° ê°ì²´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ê°œë°œ ë¬¸ì œëŠ” ê²€ìƒ‰ ì¿¼ë¦¬ ê²€ìƒ‰ì„ í•  ë•Œë„ í…Œì´ë¸”ì´ ì•„ë‹Œ ì—”í‹°í‹° ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ê²€ìƒ‰ ëª¨ë“  DB ë°ì´í„°ë¥¼ ê°ì²´ë¡œ ë³€í™˜í•´ì„œ ê²€ìƒ‰í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í•„ìš”í•œ ë°ì´í„°ë§Œ DBì—ì„œ ë¶ˆëŸ¬ì˜¤ë ¤ë©´ ê²°êµ­ ê²€ ìƒ‰ ì¡°ê±´ì´ í¬í•¨ëœ SQLì´ í•„ìš”  JPQL - íŠ¹ì§•
  JPAëŠ” SQLì„ ì¶”ìƒí™”í•œ JPQLì´ë¼ëŠ” ê°ì²´ ì§€í–¥ ì¿¼ë¦¬ë¥¼ ì œê³µ
String sql = &#34;select m from Member.class as m where m.username like &#39;%until%&#39;&#34;; ì¼ë°˜ SQLê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ ì—”í‹°í‹°ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•œë‹¤ëŠ” ì ì´ ë‹¤ë¥´ë‹¤.
 SQLì„ ì¶”ìƒí™”í•´ì„œ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ SQLì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤. ë™ì  ì¿¼ë¦¬ ìƒì„±ì´ ì‰½ì§€ ì•Šë‹¤.    Criteria - ì†Œê°œ
 ë¬¸ìê°€ ì•„ë‹Œ ìë°”ì½”ë“œë¡œ JPQLì„ ì‘ì„±í•  ìˆ˜ ìˆìŒ  //Criteria ì‚¬ìš© ì¤€ë¹„ CriteriaBuilder cb = em.getCriteriaBuilder(); CriteriaQuery&lt;Member&gt; query = cb.createQuery(Member.class); //ë£¨íŠ¸ í´ë˜ìŠ¤ (ì¡°íšŒë¥¼ ì‹œì‘í•  í´ë˜ìŠ¤) Root&lt;Member&gt; m = query.from(Member.class); //ì¿¼ë¦¬ ìƒì„± CriteriaQuery&lt;Member&gt; cq = query.select(m).where(cb.equal(m.get(&#34;username&#34;), â€œkimâ€)); List&lt;Member&gt; resultList = em.createQuery(cq).getResultList()  JPQL ë¹Œë” ì—­í•  JPA ê³µì‹ ê¸°ëŠ¥  âŒì‹¤ë¬´ì—ì„  ê±°ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.
 ì¿¼ë¦¬ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ëŠ” ìˆì§€ë§Œ êµ¬í˜„ì´ ë„ˆë¬´ ë³µì¡í•˜ê³  ì‹¤ìš©ì„±ì´ ì—†ë‹¤. ë¬¸ìê°€ ì•„ë‹Œ ìë°”ì½”ë“œë¡œ JPQLì„ ì‘ì„±í•  ìˆ˜ ìˆìŒ JPQL ë¹Œë” ì—­í•  JPA ê³µì‹ ê¸°ëŠ¥ ë‹¨ì  : ë„ˆë¬´ ë³µì¡í•˜ê³  ì‹¤ìš©ì„±ì´ ì—†ë‹¤. Criteria ëŒ€ì‹ ì— QueryDSL ì‚¬ìš© ê¶Œì¥  QueryDSL ì†Œê°œ
ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬
// JPQL // SELECT m from Member m WHERE m.age &gt; 18 JPAFactoryQuery query = new JPAQueryFactory(em); QMember m = QMember.member; List&lt;Member&gt; list = query.selectFrom(m) .where(m.age.gt(18)) .orderBy(m.name.desc()) .fetch();   ë¬¸ìê°€ ì•„ë‹Œ ìë°”ì½”ë“œë¡œ JPQLì„ ì‘ì„±í•  ìˆ˜ ìˆìŒ
  JPQL ë¹Œë” ì—­í• 
  ì»´íŒŒì¼ ì‹œì ì— ë¬¸ë²• ì˜¤ë¥˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŒ
  ... List&lt;Member&gt; list = query.selectFrom(m) .wheree(m.age.gt(18)) //ì»´íŒŒì¼ ì‹œì ì—ì„œ ì˜¤ë¥˜ ê²€ì¶œ ê°€ëŠ¥  .orderBy(m.name.desc()) .fetch()  ë™ì ì¿¼ë¦¬ ì‘ì„± í¸ë¦¬í•¨ ë‹¨ìˆœí•˜ê³  ì‰½ë‹¤. ì‹¤ë¬´ ì‚¬ìš© ê¶Œì¥  ë„¤ì´í‹°ë¸Œ SQL ì†Œê°œ
  JPAê°€ ì œê³µí•˜ëŠ” SQLì„ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥
  JPQLë¡œ í•´ê²°í•  ìˆ˜ ì—†ëŠ” íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì— ì˜ì¡´ì ì¸ ê¸°ëŠ¥
 ex: ì˜¤ë¼í´ CONNECT BY, íŠ¹ì • DBë§Œ ì‚¬ìš©í•œëŠ” SQL íŒíŠ¸  String sql =&#34;SELECT ID, AGE, TEAM_ID, NAME FROM MEMBER WHERE NAME = â€˜kimâ€™&#34;; List&lt;Member&gt; resultList = em.createNativeQuery(sql, Member.class) .getResultList();   JDBC ì§ì ‘ ì‚¬ìš©, SpringJdbcTemplate ë“±
  PAë¥¼ ì‚¬ìš©í•˜ë©´ì„œ JDBC ì»¤ë„¥ì…˜ì„ ì§ì ‘ ì‚¬ìš©í•˜ê±°ë‚˜, ìŠ¤í”„ë§ JdbcTemplate, ë§ˆì´ë°”í‹°ìŠ¤ë“± í•¨ê¼ ì‚¬ìš©ê°€ëŠ¥
  ë‹¨, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì ì ˆí•œ ì‹œì ì— ê°•ì œë¡œ í”ŒëŸ¬ì‹œ í•„ìš”
 ex: JPAë¥¼ ìš°íšŒí•´ì„œ SQLì„ ì‹¤í–‰í•˜ê¸° ì§ì „ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìˆ˜ë™ í”ŒëŸ¬ì‹œ í•´ì¤˜ì•¼ í•œë‹¤.  Member member = new Member(); member.setUsername(&#34;catsbi&#34;); conn.createQuery(&#34;select * from Member where username = &#39;catsbi&#39;&#34;); //ê²°ê³¼ ì—†ìŒ memberëŠ” Jdbcê°€ ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•˜ëŠ”ì‹œì ì—ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ë§Œ ìˆê³  dbì— ì•„ì§ ì €ì¥ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì¡°íšŒê²°ê³¼ê°€ ì—†ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ì¿¼ë¦¬ ìˆ˜í–‰ ì „ ìˆ˜ë™ìœ¼ë¡œ í”ŒëŸ¬ì‹œë¥¼ í•´ì¤˜ì•¼ í•œë‹¤.
  2. ê¸°ë³¸ ë¬¸ë²•ê³¼ ì¿¼ë¦¬ API  JPQL ì†Œê°œ
 JPQLì€ ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ë‹¤. ë”°ë¼ì„œ í…Œì´ë¸”ì„ ëŒ€ìƒìœ¼ë¡œ ì¿¼ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì—”í‹°í‹° ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì¿¼ë¦¬í•œë‹¤. JPQLì€ SQLì„ ì¶”ìƒí™”í•´ì„œ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ SQLì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.  EX: ì¡°íšŒ ê¸°ëŠ¥ì„ ë§Œë“¤ ë•Œ íŠ¹ì • DBì— ì˜ì¡´í•˜ëŠ” SQLì„ ë”°ë¡œ ì•ˆë§Œë“¤ì–´ë„ ëœë‹¤.   JPQLì€ ê²°êµ­ SQLë¡œ ë³€í™˜ëœë‹¤.  ê°ì²´/DB ëª¨ë¸</div><div class="post-footer">
        <a href="/posts/jpa-object-query-language1/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/jpa/">JPA</a>,&nbsp;<a href="/tags/hibernate/">Hibernate</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/jpa-value-type/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/JPA/jpa.png"
        data-srcset="/images/JPA/jpa.png, /images/JPA/jpa.png 1.5x, /images/JPA/jpa.png 2x"
        data-sizes="auto"
        alt="/images/JPA/jpa.png"
        title="/images/JPA/jpa.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/jpa-value-type/">ê°’ íƒ€ì…</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jaeyeon</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-12-29">2021-12-29</time></span>&nbsp;<span class="post-category">included in <a href="/categories/jpa/"><i class="far fa-folder fa-fw"></i>JPA</a></span></div><div class="content">1. ê¸°ë³¸ê°’ íƒ€ì…  ì—”í‹°í‹° íƒ€ì…
  @Entityë¡œ ì •ì˜í•˜ëŠ” ê°ì²´
  ë°ì´í„°ê°€ ë³€í•´ë„ ì‹ë³„ìë¡œ ì§€ì†í•´ì„œ ì¶”ì  ê°€ëŠ¥
â‡’ ì—”í‹°í‹° ë‚´ë¶€ì˜ ëª¨ë“  ê°’ë“¤ì„ ë°”ê¿”ë„ ì‹ë³„ìë§Œ ìœ ì§€ë˜ë©´ ì¶”ì ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì˜ë¯¸
  Ex: íšŒì› ì—”í‹°í‹°ì˜ í‚¤ë‚˜ ë‚˜ì´ ê°’ì„ ë³€ê²½í•´ë„ ì‹ë³„ìë¡œ ì¸ì‹ ê°€ëŠ¥
  ê°’ íƒ€ì…
 int, integer, Stringì²˜ëŸ¼ ë‹¨ìˆœíˆ ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ìë°” ê¸°ë³¸ íƒ€ì…ì´ë‚˜ ê°ì²´ ì‹ë³„ìê°€ ì—†ê³  ê°’ë§Œ ìˆìœ¼ë¯€ë¡œ ë³€ê²½ì‹œ ì¶”ì  ë¶ˆê°€ Ex: ìˆ«ì 100ì„ 200ìœ¼ë¡œ ë³€ê²½í•˜ë©´ ì™„ì „íˆ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ëŒ€ì²´  ê°’ íƒ€ì… ë¶„ë¥˜
 ê¸°ë³¸ê°’ íƒ€ì…  ìë°” ê¸°ë³¸ íƒ€ì…(int, double) ë˜í¼ í´ë˜ìŠ¤(Integer, Long) String   ì„ë² ë””ë“œ íƒ€ì…(enbedded type, ë³µí•© ê°’ íƒ€ì…)  Ex: ìš°í¸ë²ˆí˜¸, ì¢Œí‘œê°™ì€ ë³µí•© ê°’ì„ Positioní´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ ì“°ë ¤ê³  í•˜ëŠ” ê²ƒì„ ì„ë² ë””ë“œ íƒ€ì…   ì»¬ë ‰ì…˜ ê°’ íƒ€ì…(collection value type)  Java collection(Array, Map, Set)ì— ê°’ì„ ë„£ì„ìˆ˜ ìˆëŠ” ê²ƒì„ ì»¬ë ‰ì…˜ ê°’ íƒ€ì…ì´ë¼ í•œë‹¤.    ê°’ íƒ€ì… : ê¸°ë³¸ê°’ íƒ€ì…
 Ex: String name, int age ìƒëª…ì£¼ê¸°ë¥¼ ì—”í‹°í‹°ì— ì˜ì¡´  íšŒì›ì„ ì‚­ì œí•˜ë©´ ì´ë¦„, ë‚˜ì´ í•„ë“œë„ í•¨ê»˜ ì‚­ì œ   ê°’ íƒ€ì…ì€ ê³µìœ í•˜ë©´ ì•ˆëœë‹¤.  Side Effect â†’ íšŒì› ì´ë¦„ ë³€ê²½ì‹œ ë‹¤ë¥¸ íšŒì›ì˜ ì´ë¦„ë„ í•¨ê»˜ ë³€ê²½ë˜ë©´ ì•ˆëœë‹¤.     ì°¸ê³ : ìë°”ì˜ ê¸°ë³¸ íƒ€ì…ì€ ì ˆëŒ€ ê³µìœ ê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤.  int, double ê°™ì€ ê¸°ë³¸ íƒ€ì…(primitive type)ì€ ì ˆëŒ€ ê³µìœ ë˜ì§€ ì•ŠëŠ”ë‹¤. ê¸°ë³¸ íƒ€ì…ì€ í•­ìƒ ê°’ì„ ë³µì‚¬í•¨ Integerê°™ì€ ë˜í¼ í´ë˜ìŠ¤ë‚˜ String ê°™ì€ íŠ¹ìˆ˜í•œ í´ë˜ìŠ¤ëŠ” ê³µìœ  ê°€ëŠ¥í•œ ê°ì²´ì´ì§€ë§Œ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.    2. ì„ë² ë””ë“œ íƒ€ì…  ê°œìš”
 ìƒˆë¡œìš´ ê°’ íƒ€ì…ì„ ì§ì ‘ ì •ì˜í•  ìˆ˜ ìˆë‹¤. JPAëŠ” ì„ë² ë””ë“œ íƒ€ì…(embedded type)ì´ë¼ í•œë‹¤. ì£¼ë¡œ ê¸°ë³¸ ê°’ íƒ€ì…ì„ ëª¨ì•„ì„œ ë§Œë“¤ì–´ì„œ ë³µí•© ê°’ íƒ€ì…ì´ë¼ê³ ë„ í•¨ int, Stringê³¼ ê°™ì€ ê°’ íƒ€ì…  ì„ë² ë””ë“œ íƒ€ì… ì‚¬ìš©ë²•
 @Embeddable : ê°’ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ê³³ì— í‘œì‹œ @Embedded : ê°’ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê³³ì— í‘œì‹œ ê¸°ë³¸ ìƒì„±ì í•„ìˆ˜   Example  ì˜ˆì œë¥¼ í†µí•´ ì•Œì•„ë³´ëŠ”ê²Œ ì´í•´í•˜ê¸° ì‰½ë‹¤.  íšŒì› ì—”í‹°í‹°ëŠ” ì´ë¦„, ê·¼ë¬´ ì‹œì‘ì¼, ê·¼ë¬´ ì¢…ë£Œì¼, ì£¼ì†Œ ë„ì‹œ, ì£¼ì†Œ ë²ˆì§€, ì£¼ì†Œ ìš°í¸ë²ˆí˜¸ë¥¼ ê°€ì§„ë‹¤.
  city, street, zipcodeëŠ” ì£¼ì†Œë¡œ í•©ì¹  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.
  ê·¼ë¬´ ì‹œì‘ì¼, ê·¼ë¬´ ì¢…ë£Œì¼ì€ ê·¼ë¬´ì‹œê°„ìœ¼ë¡œ í•©ì¹  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.
  íšŒì› ì—”í‹°í‹°ì˜ ëª‡ëª‡ ê°’ì„ ì£¼ì†Œ, ê·¼ë¬´ì‹œê°„ìœ¼ë¡œ í•©ì¹˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ.
ì½”ë“œë¥¼ í†µí•´ ì¢€ ë” ìì„¸íˆ ì•Œì•„ë³´ì.
@Embeddable //ê°’ íƒ€ì…ì´ ì •ì˜ë˜ëŠ” ê³³ì— @Embeddable ì‚¬ìš© public class Period { private LocalDateTime startDate; private LocalDateTime endDate; public Period() { } } @Embeddable //ê°’ íƒ€ì…ì´ ì •ì˜ë˜ëŠ” ê³³ì— @Embeddable ì‚¬ìš© public class Address { private String city; private String street; private String zipcode; public Address() { } } @Entity public class Member { @Id @GeneratedValue @Column(name = &#34;MEMBER_ID&#34;) private Long id; @Column(name = &#34;USERNAME&#34;) private String name; /* //ì„ë² ë””ë“œ íƒ€ì…ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ì£¼ì„ ë‚´ì˜ ê¸°ì¡´ í˜•íƒœë¡œ ê°’ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸í•´ì¤˜ì•¼ í•œë‹¤. //Period private LocalDateTime startDate; private LocalDateTime endDate; //Address private String city; private String street; private String zipcode; */ @Embedded //ê°’ íƒ€ì…ì´ ì‚¬ìš©ë˜ëŠ” ê³³ì— @Embedded ì‚¬ìš©  private Period workPeriod; @Embedded //ê°’ íƒ€ì…ì´ ì‚¬ìš©ë˜ëŠ” ê³³ì— @Embedded ì‚¬ìš©  private Address homeAddress; } 
ì„ë² ë””ë“œ íƒ€ì…ì˜ ì¥ì 
 ì¬ì‚¬ìš©  Periodë‚˜ AddressëŠ” ë‹¤ë¥¸ ê°ì²´ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ ì¬ì‚¬ìš©ì„±ì„ ë†’íŒë‹¤.   ë†’ì€ ì‘ì§‘ë„ Period.isWork()ì²˜ëŸ¼ í•´ë‹¹ ê°’ íƒ€ì…ë§Œ ì‚¬ìš©í•˜ëŠ” ì˜ë¯¸ìˆëŠ” ë©”ì†Œë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒ  private boolean isWork(){ ... }  ì„ë² ë””ë“œ íƒ€ì…ì„ í¬í•¨í•œ ëª¨ë“  ê°’ íƒ€ì…ì€, ê°’ íƒ€ì…ì„ ì†Œìœ í•œ ì—”í‹°í‹°ì— ìƒëª…ì£¼ê¸°ë¥¼ ì˜ì¡´í•œë‹¤.</div><div class="post-footer">
        <a href="/posts/jpa-value-type/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/jpa/">JPA</a>,&nbsp;<a href="/tags/hibernate/">Hibernate</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/jpa-proxy-and-management/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/JPA/jpa.png"
        data-srcset="/images/JPA/jpa.png, /images/JPA/jpa.png 1.5x, /images/JPA/jpa.png 2x"
        data-sizes="auto"
        alt="/images/JPA/jpa.png"
        title="/images/JPA/jpa.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/jpa-proxy-and-management/">í”„ë¡ì‹œì™€ ì—°ê´€ê´€ê³„ ê´€ë¦¬</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jaeyeon</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-12-29">2021-12-29</time></span>&nbsp;<span class="post-category">included in <a href="/categories/jpa/"><i class="far fa-folder fa-fw"></i>JPA</a></span></div><div class="content">1. í”„ë¡ì‹œ   í”„ë¡ì‹œë€?
 í…Œì´ë¸”ì„ ì¡°íšŒí•´ì„œ ê°ì²´ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì—°ê´€ê´€ê³„ ê°ì²´ëŠ” ì•ˆê°€ì ¸ ì˜¤ê³  ì‹¶ìœ¼ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?
  em.find() : ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í†µí•´ì„œ ì‹¤ì œ ì—”í‹°í‹° ê°ì²´ ì¡°íšŒ
  em.getReference(): ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒë¥¼ ë¯¸ë£¨ëŠ” ê°€ì§œ(í”„ë¡ì‹œ) ì—”í‹°í‹° ê°ì²´ ì¡°íšŒ
Member member = em.getReference(Member.class, 1L); System.out.println(&#34;member = &#34; + member.getClass()); // HibernateProxy ê°ì²´ getReference() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì§„ì§œ ê°ì²´ê°€ ì•„ë‹Œ í•˜ì´ë²„ë„¤ì´íŠ¸ ë‚´ë¶€ ë¡œì§ìœ¼ë¡œ í”„ë¡ì‹œ ì—”í‹°í‹° ê°ì²´ ë°˜í™˜
ë‚´ë¶€ êµ¬ì¡°ëŠ” í‹€ì€ ê°™ì§€ë§Œ ë‚´ìš©ì´ ë¹„ì–´ìˆë‹¤.
í”„ë¡ì‹œ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤." í”„ë¡ì‹œ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.    íŠ¹ì§•
  ì‹¤ì œ í´ë˜ìŠ¤ë¥¼ìƒì†ë°›ì•„ì„œ ë§Œë“¤ì–´ì§
  ì‹¤ì œ í´ë˜ìŠ¤ì™€ ê²‰ ëª¨ì–‘ì´ ê°™ë‹¤.
  ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„œëŠ” ì§„ì§œ ê°ì²´ì¸ì§€ êµ¬ë¶„ í•„ìš”ê°€ ì—†ë‹¤. (ì´ë¡ ì ìœ¼ë¡œ)
  í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ ê°ì²´ì˜ ì°¸ì¡°(target)ë¥¼ ë³´ê´€í•œë‹¤.
  í”„ë¡ì‹œ ê°ì²´ë¥¼ í˜¸ì¶œ(getName())í•˜ë©´ í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ ê°ì²´ì˜ ë©”ì†Œë“œ í˜¸ì¶œ
  í”„ë¡ì‹œëŠ” ì²˜ìŒ ì‚¬ìš©í•  ë•Œ í•œ ë²ˆë§Œ ì´ˆê¸°í™”
  í”„ë¡ì‹œ ê°ì²´ë¥¼ ì´ˆê¸°í™” í•  ë•Œ í”„ë¡ì‹œ ê°ì²´ê°€ ì‹¤ì œ ì—”í‹°í‹°ë¡œ ë°”ë€ŒëŠ” ê²ƒì€ ì•„ë‹˜, ì´ˆê¸°í™”ë˜ë©´ í”„ë¡ì‹œ ê°ì²´ë¥¼ í†µí•´ ì‹¤ì œ ì—”í‹°í‹°ì— ì ‘ê·¼ ê°€ëŠ¥
  í”„ë¡ì‹œ ê°ì²´ëŠ” ì›ë³¸ ì—”í‹°í‹°ë¥¼ ìƒì†ë°›ìŒ, ë”°ë¼ì„œ íƒ€ì… ì²´í¬ì‹œ ì£¼ì˜í•´ì•¼í•¨( == ë¹„êµ ì‹¤íŒ¨, ëŒ€ì‹  instance of ì‚¬ìš©)
m1.getClass() == m2.getClass() //false m1 instanceof Member m2 instanceof Member     ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì°¾ëŠ” ì—”í‹°í‹°ê°€ ì´ë¯¸ ìˆìœ¼ë©´ em.getReference()ë¥¼ í˜¸ì¶œí•´ë„ ì‹¤ì œ ì—”í‹°í‹° ë°˜í™˜
Member m1 = em.find(Member.class, member1.getId()); System.out.println(&#34;m1 = &#34;+ m1.getClass());//Member  Member reference = em.getReference(Member.class, member1.getId()); System.out.println(&#34;reference = &#34; reference.getClass()); //Member  m1 == reference //true ì´ë¯¸ Memberë¥¼ 1ì°¨ ìºì‹œì—ë„ ì˜¬ë¼ì™€ ìˆëŠ”ë°, í”„ë¡ì‹œë¥¼ ë°˜í™˜í•  í•„ìš”ê°€ ì—†ë‹¤.
    ë°˜ëŒ€ë¡œ getReference()ë¡œ í”„ë¡ì‹œê°ì²´ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©´ ì‹¤ì œë¡œ find()ë¥¼ í–ˆì„ë•Œë„ í”„ë¡ì‹œ ê°ì²´ë¥¼ ë°˜í™˜í•¨
  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë„ì›€ì„ ë°›ì„ ìˆ˜ ì—†ëŠ” ì¤€ì˜ì† ìƒíƒœì¼ ë•Œ, í”„ë¡ì‹œë¥¼ ì´ˆê¸°í™”í•˜ë©´ ë¬¸ì œ ë°œìƒ
Member refMember = em.getReference(Member.class, member.getId()); System.out.println(&#34;refMember = &#34;+ refMember.getClass());//Proxy  em.detach(refMember); //em.clear  refMember.getUsername(); //org.hibernate.LazyInitializationException   í”„ë¡ì‹œ ê°ì²´ì˜ ì´ˆê¸°í™”
Member member = em.getRefernce(Member.class, &#34;id1&#34;);//(1) member.getName();//(2) ì½”ë“œ 1ë¼ì¸ì—ì„œ getReference()ë¥¼ í˜¸ì¶œí•˜ë©´ í”„ë¡ì‹œê°ì²´ë¥¼ ê°€ì ¸ì˜¨ ë‹¤ìŒ, getName()ì„ í˜¸ì¶œí•˜ë©´
JPAê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì´ˆê¸°í™” ìš”ì²­ì„ í•œë‹¤.
ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œëŠ” ì‹¤ì œ DBë¥¼ ì¡°íšŒí•´ì„œ ê°€ì ¸ì˜¨ ë‹¤ìŒ ì‹¤ì œ Entityì— ê°’ì„ ë„£ì–´ ìƒì„±í•œ ë‹¤ìŒ í”„ë¡ì‹œ ê°ì²´ëŠ”
ì‹¤ì œ ì—”í‹°í‹°ë¥¼ ì—°ê²°í•´ì„œ ì‹¤ì œ ì—”í‹°í‹°ë¥¼ ë°˜í™˜í•œë‹¤.
ê·¸ ì´í›„ì—ëŠ” ì´ë¯¸ ì´ˆê¸°í™”ë˜ì–´ìˆëŠ” í”„ë¡ì‹œê°ì²´ ì—¬ê¸°ì— í•´ë‹¹ ì—”í‹°í‹°ë¥¼ ë°˜í™˜í•œë‹¤.
í”„ë¡ì‹œ í™•ì¸
 í”„ë¡ì‹œ ì¸ìŠ¤í„´ìŠ¤ì˜ ì´ˆê¸°í™” ì—¬ë¶€ í™•ì¸ : PersistenceUnitUtil.isLoaded(Object entity) â†’ entityManagerFactory.getPersistenceUnitUtil().isLoaded(object) í”„ë¡ì‹œ í´ë˜ìŠ¤ í™•ì¸ ë°©ë²• : entity.getClass().getname() ì¶œë ¥(..javasist.. or HibernateProxy&hellip;) í”„ë¡ì‹œ ê°•ì œ ì´ˆê¸°í™” : org.hibernate.Hibernate.initialize(entity); ì°¸ê³ : JPA í‘œì¤€ì€ ê°•ì œ ì´ˆê¸°í™” ì—†ìŒ ê°•ì œí˜¸ì¶œ : method.getName();  2. ì¦‰ì‹œë¡œë”©ê³¼ ì§€ì—°ë¡œë”©  ì§€ì—° ë¡œë”© Memberë¥¼ ì¡°íšŒí•  ë•Œ Team(ì—°ê´€ê´€ê³„)ë„ í•¨ê»˜ ì¡°íšŒí•´ì•¼ í• ê¹Œ? : ë‹¨ìˆœíˆ member ì •ë³´ë§Œì‚¬ìš©í•˜ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
ì§€ì—° ë¡œë”© LAZYì„ ì‚¬ìš©í•´ì„œ í”„ë¡ì‹œë¡œ ì¡°íšŒ
fetch = FetchType.LAZY
/*Member*/ @Entity public class Member { ... @ManyToOne(fetch = FetchType.LAZY) //ì§€ì—°ë¡œë”© ì‚¬ìš©  @JoinColumn(name=&#34;TEAM_ID&#34;) private Team team; ... } ... Member m = em.find(Member.class, member1.getId()); // Member ê°ì²´ ë°˜í™˜ System.out.println(&#34;m = &#34;+ m.getTeam().getClass()); // Team$HibernateProxyê°ì²´ ë°˜í™˜ m.getTeam().getName() // teamì„ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” ì‹œì ì—ì„œ dbì¡°íšŒ ì—”í‹°í‹° ë°˜í™˜ ... ì—°ê´€ê´€ê³„ì— ìˆëŠ” ë‹¤ë¥¸ ì—”í‹°í‹°ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¹ˆë„ìˆ˜ê°€ ë‚®ì„ ê²½ìš° ì§€ì—°ë¡œë”©ì„ ì‚¬ìš©í•´ ë¶ˆí•„ìš”í•œ ì—”í‹°í‹° ì¡°íšŒë¥¼ ë§‰ì„ ìˆ˜ ìˆë‹¤.
ì¦‰ì‹œ ë¡œë”© â“Memberì™€ Teamì„ ê°™ì´ ì“°ëŠ” ë¹ˆë„ê°€ ë†’ì„ ê²½ìš°ì—ëŠ” ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?
ì¦‰ì‹œ ë¡œë”© EAGERë¥¼ ì‚¬ìš©í•´ì„œ í•¨ê¼ ì¡°íšŒ fetch = FetchType.EAGER
/*Member*/ @Entity public class Member{ ... @ManyToOne(fetch = FetchType.EAGER) //ì¦‰ì‹œë¡œë”© ì‚¬ìš©  @JoinColumn(name=&#34;TEAM_ID&#34;) private Team team; ... } ... Member m = em.</div><div class="post-footer">
        <a href="/posts/jpa-proxy-and-management/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/jpa/">JPA</a>,&nbsp;<a href="/tags/hibernate/">Hibernate</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/jpa-advanced-mapping/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/JPA/jpa.png"
        data-srcset="/images/JPA/jpa.png, /images/JPA/jpa.png 1.5x, /images/JPA/jpa.png 2x"
        data-sizes="auto"
        alt="/images/JPA/jpa.png"
        title="/images/JPA/jpa.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/jpa-advanced-mapping/">ê³ ê¸‰ ë§¤í•‘</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jaeyeon</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-12-29">2021-12-29</time></span>&nbsp;<span class="post-category">included in <a href="/categories/jpa/"><i class="far fa-folder fa-fw"></i>JPA</a></span></div><div class="content">1. ìƒì†ê´€ê³„ ë§¤í•‘   ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ìƒì† ê´€ê³„X ìŠˆí¼íƒ€ì… ì„œë¸Œíƒ€ì… ê´€ê³„ë¼ëŠ” ëª¨ë¸ë§ ê¸°ë²•ì´ ê°ì²´ ìƒì†ê³¼ ìœ ì‚¬ ìƒì†ê´€ê³„ ë§¤í•‘ : ê°ì²´ì˜ ìƒì†ê³¼ êµ¬ì¡°ì™€ DBì˜ ìŠˆí¼íƒ€ì… ì„œë¸Œíƒ€ì… ê´€ê³„ë¥¼ ë§¤í•‘  Album, Movie, Bookì€ ëª¨ë‘ id, name, priceë¥¼ ê°€ì§€ê³  ìˆë‹¤(ê³µí†µ ë³€ìˆ˜)
ìŠˆí¼íƒ€ì… ì„œë¸Œíƒ€ì… ë…¼ë¦¬ ëª¨ë¸ì„ ì‹¤ì œ ë¬¼ë¦¬ ëª¨ë¸ë¡œ êµ¬í˜„í•˜ëŠ” ë°©ë²• 1. ì¡°ì¸ì „ëµ  Item, Albumì— PK,FKê°€ ê°™ì•„ ê°ê°ì˜ í…Œì´ë¸”ì— insertê°€ ìˆ˜í–‰í•˜ê³  Itemë‚´ì— íƒ€ì…ì„ êµ¬ë¶„í•˜ëŠ” ì»¬ëŸ¼ì„ ë§Œë“¤ì–´ì„œ êµ¬í•´ì˜¨ë‹¤. ì¥ì   ì •ê·œí™”ë„ ë˜ì–´ìˆê³ , ì œì•½ì¡°ê±´ì„ ë¶€ëª¨ì— ê±¸ì–´ ë§ì¶œ ìˆ˜ ìˆë‹¤.  ex: Order í…Œì´ë¸”ì—ì„œ íŠ¹ì • ì•„ì´í…œ(ì˜í™”)ì˜ ê°€ê²©ì„ ë³¼ ë•Œ ITEM í…Œì´ë¸”ë§Œ ë´ë„ ëœë‹¤.   ì €ì¥ê³µê°„ íš¨ìœ¨í™”   ë‹¨ì   ì¡°íšŒì‹œ ì¡°ì¸ì´ ë§ì„ ê²½ìš° ì„±ëŠ¥ ì €í•˜ ì¡°íšŒ ì¿¼ë¦¬ê°€ ë³µì¡í•¨ ë°ì´í„° ì €ì¥ì‹œ INSERT SQL 2ë²ˆ í˜¸ì¶œ(í° ë¬¸ì œëŠ” ì•„ë‹˜)   ì¡°ì¸ì´ ë§ì•„ë„ ì¡°ê±´ì´ ì˜ ê±¸ë ¤ìˆì„ ê²½ìš° ì„±ëŠ¥ í•˜ë½ì´ í¬ì§€ ì•Šê³  ì €ì¥ê³µê°„ì´ íš¨ìœ¨ì ìœ¼ë¡œ ë˜ê¸°ì— ì˜¤íˆë ¤ ë” ì¢‹ì„ ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ê³ ë ¤í•´ì•¼ í•œë‹¤.  2. ë‹¨ì¼ í…Œì´ë¸” ì „ëµ (default)  ë…¼ë¦¬ëª¨ë¸ì„ í•œ í…Œì´ë¸”ë¡œ í•©ì³ë²„ë¦¬ëŠ” ë°©ë²• í•œ í…Œì´ë¸”ì— ë‹¤ ë„£ì–´ ë†“ê³  ì–´ë–¤ í…Œì´ë¸”ì¸ì§€ êµ¬ë¶„í•˜ëŠ” ì»¬ëŸ¼(ex:DTYPE)ì„ í†µí•´ êµ¬ë¶„í•œë‹¤. í…Œì´ë¸”ì€ ITEM í…Œì´ë¸” í•˜ë‚˜ë§Œ ê´€ë¦¬ëœë‹¤. ì„±ëŠ¥ì—ì„œ ìš°ìœ„ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. (select or insertê°€ í•œë²ˆì— ìˆ˜í–‰ìœ¼ë¡œ ëœë‹¤.) @DiscriminatorColumn ì´ í•„ìˆ˜ë¡œ ë“¤ì–´ê°„ë‹¤(ê¸°ì…í•˜ì§€ ì•Šì•„ë„ ìë™ìœ¼ë¡œ ë“¤ì–´ê°) ì¥ì   ì¡°ì¸ì´ í•„ìš” ì—†ê¸°ì— ì¼ë°˜ì ìœ¼ë¡œ ì¡°íšŒ ì„±ëŠ¥ì´ ë¹ ë¦„ ì¡°íšŒ ì¿¼ë¦¬ê°€ ë‹¨ìˆœí•¨   ë‹¨ì   ìì‹ ì—”í‹°í‹°ê°€ ë§¤í•‘í•œ ì»¬ëŸ¼ì€ ëª¨ë‘ nullable í•´ì•¼ í•œë‹¤. ë‹¨ì¼ í…Œì´ë¸”ì— ëª¨ë“  ê²ƒì„ ì €ì¥í•˜ê¸°ì— í…Œì´ë¸”ì´ ì»¤ì§ˆ ìˆ˜ ìˆê³  ìƒí™©ì— ë”°ë¼ì„œ ì¡°íšŒì„±ëŠ¥ì´ ë” ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤. (ì„ê³„ì ì„ ë„˜ì„ ì €ë„ì˜ ìƒí™©ì€ ê±°ì˜ ì˜¤ì§€ ì•ŠëŠ”ë‹¤.)    3. êµ¬í˜„ í´ë˜ìŠ¤ë§ˆë‹¤ í…Œì´ë¸” ì „ëµ  ê°ê°ì˜ í…Œì´ë¸”ë§ˆë‹¤ ë³„ê°œë¡œ ë§Œë“¤ì–´ì„œ ë”°ë¡œ ê´€ë¦¬ ITEM í…Œì´ë¸”ì„ ìƒì„±í•˜ì§€ ì•Šê³  ALBUM, MOVIE, BOOK í…Œì´ë¸”ì—ì„œ ê°ê° id, name, price í•„ë“œë¥¼ ê°€ì§€ê³  ìˆë‹¤. @DiscriminatorColumnì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. (êµ¬ë¶„í•  ì´ìœ ê°€ ì—†ë‹¤.) ITEMì„ ì¡°íšŒí•˜ë©´ ALBUM, MOVIE, BOOK ì„¸ê°œì˜ í…Œì´ë¸”ì„ UNION ALLìœ¼ë¡œ ì „ë¶€ ì¡°íšŒí•´ì„œ ê°€ì ¸ì˜¨ë‹¤. (ë‹¨ì ) ì¶”ì²œí•˜ì§€ ì•ŠëŠ” ì „ëµ (ê°œë°œì, DBA ì–‘ì¸¡ì—ì„œ) ì¥ì   ì„œë¸Œ íƒ€ì…ì„ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•´ì„œ ì²˜ë¦¬í•  ë•Œ íš¨ê³¼ì  Not Null ì œì•½ì¡°ê±´ ê°€ëŠ¥   ë‹¨ì   ì—¬ëŸ¬ ìì‹ í…Œì´ë¸”ì„ í•¨ê»˜ ì¡°íšŒí•  ë•Œ ì„±ëŠ¥ì´ ëŠë¦¼ (UNION SQL) ìì‹ í…Œì´ë¸”ì„ í†µí•©í•´ì„œ ì¿¼ë¦¬í•˜ê¸° í˜ë“¬    2. ì£¼ìš” ì–´ë…¸í…Œì´ì…˜ @Inheritance(strategy = InheritanceType.XXX)
 JOINED : ì¡°ì¸ì „ëµ SINGLE_TABLE : ë‹¨ì¼ í…Œì´ë¸” ì „ëµ TABLE_PER_CLASS : êµ¬í˜„ í´ë˜ìŠ¤ë§ˆë‹¤ í…Œì´ë¸” ì „ëµ  @DiscriminatorColumn(name = &ldquo;DTYPE&rdquo;)
 default : DTYPE ì´ë¼ëŠ” Columnì´ super classì˜ tableì— ìƒê¸°ê³ , DTYPEì˜ ê°’ì€ sub classì˜ ì´ë¦„ìœ¼ë¡œ ì§€ì •ëœë‹¤. SingleTable ì „ëµì—ì„œ ì—†ì–´ë„ DTYPEì´ ìƒì„±ë˜ê¸°ë„ í•˜ëŠ”ë°, ê·¸ë˜ë„ ìš´ì˜ìƒ ì¨ì£¼ì. ì´ ì–´ë…¸í…Œì´ì…˜ì€ ìƒìœ„ í´ë˜ìŠ¤(Item)ì—ì„œ ëª…ì‹œëœë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì˜ ìƒìœ„ í…Œì´ë¸”(Item í…Œì´ë¸”)ì—ê²Œ êµ¬ë¶„ì ì—­í• ì„ DTYPE ì¹¼ëŸ¼ì„ ë„£ì–´ì¤€ë‹¤. ì• ë…¸í…Œì´ì…˜ì˜ name ì†ì„±ìœ¼ë¡œ ì»¬ëŸ¼ëª…ì„ ë°”ê¿”ì¤„ ìˆ˜ ìˆë‹¤ (ì´ë¦„ì†ì„±ìœ¼ë¡œ ì“°ì).  @DiscriminatorValue(â€œXXXâ€)
 ì´ ì–´ë…¸í…Œì´ì…˜ì€ í•˜ìœ„ í´ë˜ìŠ¤(ALBUM, MOVIE, BOOK)ì—ì„œ ì‚¬ìš©ëœë‹¤. ìƒìœ„ í…Œì´ë¸”(ITEM í…Œì´ë¸”)ì„ ì¡°íšŒí• ë•Œ DTYPE ì¹¼ëŸ¼ì— ì‚¬ìš©ë˜ëŠ” valueë¥¼ ì„¤ì •í•´ì£¼ëŠ” ê¸°ëŠ¥ì´ë‹¤. ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²½ìš° ê¸°ë³¸ Default ê°’ì¸ Entity ì´ë¦„ìœ¼ë¡œ valueê°’ì´ ì±„ì›Œì§€ê²Œ ëœë‹¤. default: classname  3. @MappedSuperclass   ê³µí†µ ë§¤í•‘ ì •ë³´ê°€ í•„ìš”í•  ë•Œ ì‚¬ìš©(id, name)  ex: ëª¨ë“  í…Œì´ë¸”ì— row ìƒì„±ì¼, ìˆ˜ì •ì¼ì„ ë“±ë¡í•´ì•¼í•˜ëŠ” ê²½ìš°(createdAt, updatedAt)     ìƒì†ê´€ê³„ ë§¤í•‘ì´ ì•„ë‹ˆë‹¤. ì—”í‹°í‹°ë„ ì•„ë‹ˆê³ , í…Œì´ë¸”ê³¼ ë§¤í•‘ë˜ì§€ë„ ì•ŠëŠ”ë‹¤. ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” ìì‹ í´ë˜ìŠ¤ì— ë§¤í•‘ ì •ë³´ë§Œ ì œê³µ ë¶€ëª¨íƒ€ì…ìœ¼ë¡œ ì¡°íšŒ, ê²€ìƒ‰ ë¶ˆê°€ ì§ì ‘ ìƒì„±í•´ì„œ ì‚¬ìš©í•  ì¼ì´ ì—†ìœ¼ë¯€ë¡œ ì¶”ìƒí´ë˜ìŠ¤ ì¶”ì²œ  @Entityí´ë˜ìŠ¤ëŠ” ì—”í‹°í‹°ë‚˜ @MappedSuperclassë¡œ ì§€ì •í•œ í´ë˜ìŠ¤ë§Œ ìƒì† ê°€ëŠ¥
@MappedSuperclass public abstract class BaseEntity { private String createdBy; private LocalDateTime createdDate; private String modifiedBy; private LocalDateTime lastModifiedDate; } @Entity public class Member extends BaseEntity { } @Entity public class Team extends BaseEntity { } Member member = new Member(); member.</div><div class="post-footer">
        <a href="/posts/jpa-advanced-mapping/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/jpa/">JPA</a>,&nbsp;<a href="/tags/hibernate/">Hibernate</a></div></div>
</article><ul class="pagination"><li class="page-item active">
                    <span class="page-link">
                        <a href="/">1</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/2/">2</a>
                    </span>
                </li></ul></div></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.91.2">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Jaeyeon</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":500},"data":{"id-1":"Life of record"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"typeit":{"cursorChar":"|","cursorSpeed":500,"data":{"id-1":["id-1"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
